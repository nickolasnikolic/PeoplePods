<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>Untitled Document</title>
</head>

<body>
<div>
  <div>
    <div><a href="http://webcache.googleusercontent.com/search?q=cache:http://peoplepods.net/readme/all&hl=en&tbo=d&strip=0">Full version</a></div>
    <div> </div>
  </div>
</div>
<div>
  <div id="header">
    <div id="login_status">
      <div>
        <div>
          <div><a href="http://peoplepods.net/join" id="login_link">Join the Developer Network</a> or <a href="http://peoplepods.net/login" id="login_link">Login</a></div>
          <div>Search</div>
          <div></div>
        </div>
      </div>
    </div>
    <div id="nav">
      <div>
        <div><a href="http://twitter.com/share" data-url="http://peoplepods.net" data-text="Check out PeoplePods - a software toolkit for making community sites and social apps" data-count="horizontal" data-via="peoplepods" data-related="xoxco">Tweet</a></div>
        <div><a href="http://peoplepods.net/" title="Return to Homepage">PeoplePods</a></div>
        <div>
          <ul>
            <li><a href="http://peoplepods.net/news">Blog</a></li>
            <li><a href="http://peoplepods.net/readme">Documentation</a></li>
            <li><a href="http://peoplepods.net/forum">Forum</a></li>
          </ul>
        </div>
        <div></div>
      </div>
    </div>
  </div>
  <div id="main">
    <div>
      <h1><a href="http://peoplepods.net/readme/what-is-peoplepods" title="What is PeoplePods?">What is PeoplePods?</a></h1>
      <p>PeoplePods is a framework that makes it easier to create community or "social" applications. It provides a flexible infrastructure within which members of a site can create, comment upon, and consume content of arbitrary types. Popular social functionality such as friend lists, personalized content views, bookmarking, and voting are automatically available within any PeoplePods application. PeoplePods can be used to build stand-alone sites, or can be layered onto existing sites such as those run using Wordpress or other PHP applications.</p>
      <p>There are three main pieces of PeoplePods. The first is a <a href="http://peoplepods.net/readme/sdk">software development kit</a> that was built from the ground up to numb the pain of building a fun website that does cool stuff. The PHP-based, object-oriented libraries provides the underpinnings for all the basic services present on modern websites: log-in, personalization, content creation and management, and all of the above mentioned social actions. Thanks to the magic of object inheritance, all of the objects within the PeoplePods environment - people, documents, comments and groups - share common access methods and template conventions.</p>
      <p>The second component is a package of plugin modules - we call them "pods" - that demonstrate the functionality of PeoplePods. The <a href="http://peoplepods.net/readme/core-pods">core pods</a> are intended as examples to be customized by developers. However, using the modules and their accompanying templates, even non-programmers can create and customize PeoplePods sites that feature member profile pages, member created groups, private messaging, and member content creation. Those with a bit of programming experience will find the code within the pods easy to modify so that new functionality can be <a href="http://peoplepods.net/readme/creating-new-pods">created or remixed from existing functionality</a>.</p>
      <p>Finally, PeoplePods has a full set of <a href="http://peoplepods.net/readme/admin-tools">administrative tools</a> that will allow the site's operator to keep an eye on activity and configure a number of optional features. These tools support normal member management tasks such as editing account details and resetting passwords as well as content moderation and editorial control tasks such as approving and featuring member content.</p>
      <h3>Getting Started</h3>
      <p>Read about <a href="http://peoplepods.net/readme/installing-peoplepods">how to install PeoplePods</a>. It is a pretty straight forward process comparable to other web software you might have installed before.</p>
      <p>Once you've got everything up and running, you'll probably want to start customizing your new PeoplePods site. This will probably start with some <a href="http://peoplepods.net/readme/themes">changes to the theme templates</a> where you can change how the site looks with some basic CSS and HTML. A lot of what PeoplePods does is defined in the templates, so you'll get your feet wet quickly.</p>
      <p>If you want to alter the functionality of the <a href="http://peoplepods.net/readme/core-pods">core pods</a> or build your own functionality, the first thing you'll want to do is bookmark the <a href="http://peoplepods.net/readme/sdk-quick-start-guide">quick start guide</a> and <a href="http://peoplepods.net/readme/sdk">SDK Documentation</a>. Every single function you'll run across is documented there, as well as some coding conventions and examples.</p>
      <p>We recommend that you use one of the core pods as the starting point for any new functionality. Read the guide to <a href="http://peoplepods.net/readme/creating-new-pods">creating new pods</a>, or more specific instructions on <a href="http://peoplepods.net/readme/new-content-type">creating a new content type</a></p>
      <h3>Integrating PeoplePods into Existing Sites</h3>
      <p>You can boot up a $POD wherever you can run PHP. This allows you to add a social layer to existing content, or to create community features that integrate with existing functionality. PeoplePods is a great way to add or extend an existing website with features like member profiles, discussion areas, and member-created groups.</p>
      <p>PeoplePods also includes a basic Wordpress plugin that grants developers easy access to PeoplePods functionality in any Wordpress template.</p>
      <p>Read more about how to use PeoplePods on an existing site <a href="http://peoplepods.net/readme/sdk">in the SDK documentation.</a></p>
      <h1><a href="http://peoplepods.net/readme/new-content-type" title="Creating a new content type">Creating a new content type</a></h1>
      <p>To create a new content type, use the core_usercontent pod as an example. This pod contains several files, including generic handlers for adding and editing content, viewing permalinks, viewing lists of content, adding comments, add accepting votes.</p>
      <p>You can customize the content type by editing a simple config file and creating a few templates in your theme! However, you'll probably want to dig deeper into the code to add special functionality.</p>
      <p>1) Copy core_usercontent pod to a new name</p>
      <pre>cp -R core_usercontent content_post  </pre>
      2) Edit the content_type.php file. This file contains information used by all the other files.
      <p>Set the $content_type variable to a short name for the new content type. No spaces!</p>
      <pre>	$content_type ='post';  </pre>
      <p>Set the $permamlink variable tp first part of the permalink. This will be used to make links to each piece of content, as well as to the list of most recent content. We'll use "blog." This means we can get a list of new posts at /blog and each post will be located at /blog/title-of-post</p>
      <pre>	$permalink = 'blog';  </pre>
      <p>Set the edit/add url. This means I can go to /edit to create a new post.</p>
      <pre>$edit_link = "edit";  </pre>
      <p>Change the name of the edit form template. This template will be located in the theme/content folder and will be used on the add/edit page</p>
      <pre>	$input_template = 'postform';  </pre>
      <p>Change the name of the default output template for the content permalink:</p>
      <pre>	$output_template = 'post';  </pre>
      <p>Change the $pod_dir variable to the same name as the folder you created in step 1.</p>
      <pre>	$pod_dir = "content_post";  </pre>
      <p>3) Go into your theme content directory. Copy editform.php to the new template you referenced in step 2.</p>
      <pre>cp editform.php postform.php  </pre>
      <p>4) Make changes to the form design and fields.</p>
      <p>You can create meta fields by naming them meta_<em>fieldname</em></p>
      <p>You can attach files by simply creating file inputs. The files will be named the same as thing as the input.</p>
      <p>For example, if we wanted to add a meta field named "Via" we could add this to our form:</p>
      <pre>&lt;input type="text" name="meta_via" value="" /&gt;  </pre>
      <p>5) Copy output.php to the the new template you referenced in step 2.</p>
      <pre>cp output.php post.php  </pre>
      <p>6) Load the PeoplePods Command Center, go to Options-&gt;Plugin Pods and turn on your new custom content type pods. They'll be called contenttype_YOURCONTENTTYPE_add, contenttype_YOURCONTENTTYPE_edit, and contenttype_YOURCONTENTTYPE_list.</p>
      <p>7) Navigate to your new add/edit screen. You should see your new form. Create your first test post!</p>
      <p>8) Your new post should show up at the top of your content list. Click on it. You should see that it goes to a new permalink url as descrived in step 2. But the template is the generic template!</p>
      <p>9) Go back to your theme directory and customize post.php</p>
      <p>VOILA!</p>
      <p>You may want to change the access restrictions on your new content type pods. For example, you may want to restrict the add/edit pod to admin users. You can do this by changing the 'lockdown' parameter in the pod files.</p>
      <h1><a href="http://peoplepods.net/readme/creating-new-pods" title="Creating New Pods">Creating New Pods</a></h1>
      <p>Pods are reusable packages of code that add functionality to a PeoplePods site. Thought PeoplePods ships with several example pods, most sites will need a few custom pods.</p>
      <h3>Pods = Features</h3>
      <p>Pods can create new pages and features on your site. For example, a pod could create an activity dashboard, an invite tool, or a member profile. Each pod can create multiple pages, so a single pod can both display member profiles, as well as creating all of the tools necessary for members to edit their profiles.</p>
      <p>Pods can handle new types of content. This type of pod typically handles the input and output of the content - creating an editing interface for users, as well as a display mechanism. A great example of this is a pod that creates a posting form, archive page, and permalink pages for posts.</p>
      <p>Pods can add custom functionality to the PeoplePods objects. Need to define custom behavior for your members or content? Pods can layer additional methods onto the core PeoplePods objects to expand their capabilities. For example, the "Twitter Connect" pod adds a new method to the Person object called postToTwitter() which posts messages to Twitter. Once enabled, $person-&gt;postToTwitter() is available throughout the site!</p>
      <p>Pods allow you to customize functionality with site-specific settings. Sometimes a plugin requires a few pieces of extra information to function properly - an API key, an email address, or some configuration option. Pods simply specify a list of options, and they'll appear magically in the PeoplePods command center.</p>
      <p>Pods can provide default templates used for input and output within the pod. These default templates come packaged with the pod, but can be overwritten by templates within a theme.</p>
      <h3 id="components">Components of a Pod</h3>
      <p>A pod consists of a few PHP and template files. All of these files will live together in a folder, which in turn lives in the pods/ folder of your PeoplePods install.</p>
      <p>settings.php contains a single command which tells PeoplePods what your pod does and how it interacts with the rest of the site. This command sets up the URLs that will be handled, defines where external methods are stored, and tells PeoplePods what configuration options are needed. This command is called<a href="http://peoplepods.net/readme/pod-registerpod">$POD-&gt;registerPOD()</a>.</p>
      <p>handler.php contains the main code for your pod. The code within handler.php is essentially treated like a standalone script, though it is tied into the rest of the site via the PeoplePods theme and functionality. There may be more than one file like handler.php within your pod depending on the requirements and complexity of the feature being defined. For example, if a pod handles more than one type of URL, you may want to create a separate file for each type in order to keep your code organized. Each handler must include the PeoplePods library file, instantiate a $POD object, and print the header and footer of the site.</p>
      <p>methods.php contains additional methods that will be added to the core PeoplePods objects at runtime. In addition, it contains an optional setup function which defines a list of settings variables that are used by the command center. At the bottom of this file, each method must be added to the appropriate object using the <a href="http://peoplepods.net/readme/registerMethod">registerMethod function</a>.</p>
      <p>Local template files may also be included within the pod. These template files should represent the default or standard interface to the pod, which may be overwritten by including a matching template file in the site's theme.</p>
      <h3 id="tutorial">Set Up Your New Pod</h3>
      <p>In this tutorial, we will explain each of these components and walk you through the creation of a new pod. This example pod will create a welcome page that displays a personalized message to the visitor.</p>
      <p>The first step to creating a new pod is to create a new folder in your PeoplePod's installation under the <em>pods/</em> folder. The name of the folder should match the name of your new pod. For our example, we'll create a folder called "custom_welcome"</p>
      <p>Inside this folder, immediately create three files blank files: settings.php, handler.php, and methods.php.</p>
      <p>Once you're done, you should have a file structure something like this:</p>
      <pre>/mywebsite/peoplepods/pods/custom_welcome/settings.php    /mywebsite/peoplepods/pods/custom_welcome/handler.php    /mywebsite/peoplepods/pods/custom_welcome/methods.php  </pre>
      <h3 id="register">Settings.php</h3>
      <p>The settings.php file tells PeoplePods how to integrate the pods functionality into the site. It tells PeoplePods what the pods name is, describes it's functionality, sets up the path to the new functionality, and defines any system-wide variables the pod requires.</p>
      <p>This file should contain just one command, a call to <a href="http://peoplepods.net/readme/pod-registerpod">$POD-&gt;registerPOD()</a>.</p>
      <p>For our example pod, we'll put the following code:</p>
      <pre>$POD-&gt;registerPOD(    'custom_welcome',    'display a custom welcome page',    array(      '^welcome'=&gt;'custom_welcome/handler.php'    ),    array(),    dirname(__FILE__) . "/methods.php",    'customWelcomeSetup'  );  </pre>
      <p>SWEET FANCY MOSES, that looks complicated! But don't fret! Let's break it down.</p>
      <p>The first parameter we pass to registerPOD is the name of the pod. This is the same as the name of the folder you created above.</p>
      <p>The second parameter is a short description of the pod. This is what will be displayed in the <a href="http://peoplepods.net/readme/admin-tools">admin tools</a>.</p>
      <p>The third parameter is where we start to get tricky. This parameter is an array that defines the URL mapping, which is then used to build one or more mod_rewrite rules that tell your web server what to do. For each URL pattern you want to map, you'll add a value to this array.</p>
      <p>In our example above, we are mapping the url /welcome to the code contained within the handler.php script. That is, once this pod is enabled, the url "http://mywebsite.com/welcome" will actually execute the code inside handler.php.</p>
      <p>This pattern can contain multiple parameters, and may include wildcards. This allows you to create patterns that actually define many dynamic pages, such as content permalink pages. Read the <a href="http://peoplepods.net/readme/pod-registerpod">registerPOD() page</a> for information on how to construct these patterns.</p>
      <p>The fourth parameter is an optional array of key/value pairs that will be available to all of PeoplePods when this pod is enabled. For this example pod, we don't need anything here. This parameter is most often used to define the permalink structure for <a href="http://peoplepods.net/readme/new-content-type">new content types</a>.</p>
      <p>The fifth parameter should contain the path to the methods.php file. In almost all cases, this should be <em>dirname(__FILE__) . "/methods.php"</em>, which points to the methods.php located within the pod directory. This parameter is optional - if you don't need to add methods or provide settings, it is safe to ignore this parameter.</p>
      <p>The sixth parameter is a string which should contain the name of a function contained within methods.php that will return a list of the necessary settings for this pod. This function will be called from within the PeoplePods command center to construct a settings form.</p>
      <h3 id="handler">Handler.php</h3>
      <p>The handler.php file contains the actual code of the module. You may have all of your code in one file, or you may have multiple files that provide different pieces of the functionality. Regardless, each file will follow the same basic structure.</p>
      <p>The first thing we need to put in this file is a call to include the PeoplePods library and boot up the $POD object. As part of the boot up, we pass in the authentication cookie that identifies the current user, a parameter that describes the minimum access level a person must have to access the pod, and a debug level. These options are described in more detail <a href="http://peoplepods.net/readme/peoplepods-object">here</a>. In this example, we are not putting any access restrictions on this page, and we're turning off the debug information.</p>
      <pre>include_once("../../PeoplePods.php");  $POD = new PeoplePod(array(    'authSecret'=&gt;$_COOKIE['pp_auth'],    'lockdown'=&gt;null,    'debug'=&gt;0  ));  </pre>
      <p>After the $POD has been created, you'll want to actually do something with it. We'll start off by calling the <a href="http://peoplepods.net/readme/pod-header">header()</a> and <a href="http://peoplepods.net/readme/pod-footer">footer()</a> functions which will wrap the pod's output in the site's header and footer:</p>
      <pre>include_once("../../PeoplePods.php");  $POD = new PeoplePod(array(    'authSecret'=&gt;$_COOKIE['pp_auth'],    'lockdown'=&gt;null,    'debug'=&gt;0  ));    $POD-&gt;header('Welcome!');    // the pod's main code will go here    $POD-&gt;footer();  </pre>
      <p>Now, all that's left is to write the custom code that will power the pod. Like any PHP script, you can put code and HTML markup here, though most of the markup should live in <a href="http://peoplepods.net/readme/themes">template files</a>. For this example, we'll start by putting everything in the pod file, then later we'll move some of it into a new template file.</p>
      <p>For our example, we're going to do something really, really basic: print a personalized welcome message to the current visitor. The visitor may be a member of the site, or they may be anonymous - that is, not logged in. So we'll have to tap into the PeoplePods library to do some basic logic - checking to see if the person is authenticated, then printing one of two messages. Put this code in between the calls to header() and footer().</p>
      <pre>if ($POD-&gt;isAuthenticated()) {     echo "Welcome back, ";    $POD-&gt;currentUser()-&gt;write('nick');  } else {    echo "Hello stranger!  Welcome to PeoplePods.";  }  </pre>
      <p>At this point, you've got a fully functioning pod! Save the handler.php file and the settings.php file, and load up your PeoplePods admin tool. Navigate to Options -&gt; Plugin Pods, and you should the name and description of your new pod in the list. Click the checkbox next to your new pod, then click the "Update" button. If everything has been set up correctly, you should now be able to navigate to "http://mywebsite.com/welcome" and see the output of the new pod, which should look something like this:</p>
      <pre>Welcome back, admin  </pre>
      <p>Wow! Wow!</p>
      <p>Ok, it is a bit boring. Let's give the visitor a little something extra to look at. How about a list of the most recent content posted to the site? Easy! We'll just use the <a href="http://peoplepods.net/readme/pod-getcontents">getContents()</a> function. (This is a very simple use of this function - check the function page for more information on customizing what content you load.) This code will load the most recent content of any type, then print out a paragraph for each post with a link to the post and a timestamp. Add it underneath the code you just added:</p>
      <pre>$recent_posts = $POD-&gt;getContents();  foreach($recent_posts as $post) {    echo "&lt;p&gt;";    $post-&gt;permalink();    echo ", posted ";    $post-&gt;write('timesince');      echo "&lt;/p&gt;"  }  </pre>
      <p>Now, you're output will look something like this:</p>
      <pre>Welcome back, admin    Post #5, posted 15 minutes ago    Post #4, posted 20 minutes ago    Post #3, posted 1 hour ago    Post #2, posted 1 day ago    Post #1, posted 5 days ago  </pre>
      <p>Not too shabby! But having the markup of the content list in the pod is a bit messy, and will make the pod more difficult to manage in the future when modifications to the output styles are required. We can fix this by moving the markup for the content into a new template file.</p>
      <h3 id="templates">Custom Template Files</h3>
      <p>PeoplePods allows you to create template files for any bit of markup or code you are going to use or reuse. This allows you to separate the application logic from your presentation.</p>
      <p>For this example, we are going to create a new template file inside pod folder called "<em>recent_post.php</em>" So, when you're done, your file structure should be:</p>
      <pre>/mywebsite/peoplepods/pods/custom_welcome/recent_post.php  </pre>
      <p>Inside this file, we want to put the code and markup that represents the output of one piece of content. This code and markup will then be re-used for each item in the $recent_posts list. Inside the template, we still have access to the $POD variable, and we also have a new variable called <em>$content</em> which represents the piece of content that is being displayed. So, inside of recent_post.php, put the following code:</p>
      <pre>  echo "&lt;p&gt;";    $content-&gt;permalink();    echo ", posted ";    $content-&gt;write('timesince');      echo "&lt;/p&gt;"  </pre>
      <p>Save the new template file. Now, go back to your pod's handler.php file and strip out the markup that you just moved to the template, and replace it with a call to the content object's <a href="http://peoplepods.net/readme/content-output">output() function</a>. Notice that we pass in the name of the new template file to the output function, as well as the path to the pod folder.</p>
      <pre>foreach ($recent_posts as $post) {    $post-&gt;output('recent_post',dirname(__FILE__));  }  </pre>
      <p>Save your handler.php file, and reload the welcome page in your browser. The output should look exactly the same as before!</p>
      <p>Now, after we've finished our pod and released it for other developers to use, this template will be included along with the code. If a developer wants to use a custom version of the template, instead of modifying the file inside the pod, they may create a version within their theme, and PeoplePods will use the custom version instead. This allows the pod to be safely upgraded without overwriting custom modifications.</p>
      <p>Our pod code should now look like this:</p>
      <pre>include_once("../../PeoplePods.php");  $POD = new PeoplePod(array(    'authSecret'=&gt;$_COOKIE['pp_auth'],    'lockdown'=&gt;null,    'debug'=&gt;0  ));    $POD-&gt;header('Welcome!');    if ($POD-&gt;isAuthenticated()) {     echo "Welcome back, ";    $POD-&gt;currentUser()-&gt;write('nick');  } else {    echo "Hello stranger!  Welcome to PeoplePods.";  }    $recent_posts = $POD-&gt;getContents();    foreach ($recent_posts as $post) {    $post-&gt;output('recent_post',dirname(__FILE__));  }    $POD-&gt;footer();  </pre>
      <h3 id="methods">Methods.php</h3>
      <p>We've now got a fully functioning custom pod that displays a simple welcome message to the user on a simple welcome page. But what if we wanted to be able to display that welcome message on ANY PAGE of the site? To do this, we create an extra method, and attach it to one of PeoplePods' core objects.</p>
      <p>Additional methods look just like normal functions, and take as their first parameter the object which is being extended. So, to create a simple function that extends the $POD object, we would write:</p>
      <pre>function welcomeMessage($POD) {    	if ($POD-&gt;isAuthenticated()) {   		echo "Welcome back, ";  		$POD-&gt;currentUser()-&gt;write('nick');  	}  else {  		echo "Hello stranger! Welcome to PeoplePods";  	}    }    PeoplePod::registerMethod('welcomeMessage');  </pre>
      <p>Pay special attention to that last line of code. The <a href="http://peoplepods.net/readme/registerMethod">registerMethod function</a> is required so that PeoplePods knows about your function. Without it, your function will not be available outside of the methods.php file.</p>
      <p>Once this function has been added to methods.php, it will be available in this and ALL OTHER pods. You can use it within any pod and any template, anywhere on the site.</p>
      <p>So, go back into your handler.php, and update it to use the new function:</p>
      <pre>include_once("../../PeoplePods.php");  $POD = new PeoplePod(array(    'authSecret'=&gt;$_COOKIE['pp_auth'],    'lockdown'=&gt;null,    'debug'=&gt;0  ));    $POD-&gt;header('Welcome!');    // call our new custom method!  $POD-&gt;welcomeMessage();    $recent_posts = $POD-&gt;getContents();    foreach ($recent_posts as $post) {    $post-&gt;output('recent_post',dirname(__FILE__));  }    $POD-&gt;footer();  </pre>
      <p>Methods can be added to any of the core objects. <a href="http://peoplepods.net/readme/registerMethod">Read all about adding methods here.</a></p>
      <h3 id="settings">Pod Settings</h3>
      <p>If your new pod contains information that might change on a site-by-site basis, such as specific messages, API keys, or personalized settings, this information should be stored in a pod setting variable. You define pod settings using a setup function - in our example, we called this setup function "customWelcomeSetup," so we need to define this function within the methods.php file.</p>
      <p>The setup function is VERY SIMPLE and only needs to do one thing - return an array of variable names. For our example, we'll create 2 settings: a message to display to logged in users, and another message to display to logged out users.</p>
      <pre>function customWelcomeSetup() {  	return array(  		'user_welcome'=&gt;'Welcome message for logged in users',  		'stranger_welcome'=&gt;'Welcome message for anonymous users'  	);  }  </pre>
      <p>Once the function has been created within methods.php, navigate back to your PeoplePods command center and go to the Options -&gt; Plugin Pods screen. When you scroll down to your plugin, you should see a "settings" link next to the description of the plugin. Clicking this link should take you to a form where your 2 new fields are displayed!</p>
      <p>Now that we've stored our custom welcome messages, we need to actually use them in our pod. Lets revisit our custom welcomeMessage() method and revise it so that it uses these messages. We use the <a href="http://peoplepods.net/readme/pod-liboptions">$POD-&gt;libOptions()</a> function to access these values.</p>
      <pre>function welcomeMessage($POD) {    	if ($POD-&gt;isAuthenticated()) {   		echo $POD-&gt;libOptions('user_welcome');  		$POD-&gt;currentUser()-&gt;write('nick');  	}  else {  		echo $POD-&gt;libOptions('stranger_welcome');  	}    }    PeoplePod::registerMethod('welcomeMessage');  </pre>
      <p>Now, when you visit <em>mywebsite.com/welcome</em>, you should see your custom messages displayed!</p>
      <h3 id="install">Install Function</h3>
      <p>You may optionally define a function that is called automatically when a pod is enabled via the Command Center. This function can initialize values, add fields to the database schema, or do anything else that is required by the pod to function.</p>
      <p>Install functions should be defined in a pod's methods file, and must accept a $POD object as a parameter:</p>
      <pre>// In settings.php:  $POD-&gt;registerPOD(    'custom_welcome',    'display a custom welcome page',    array(      '^welcome'=&gt;'custom_welcome/handler.php'    ),    array(),    dirname(__FILE__) . "/methods.php",    'customWelcomeSetup',    'myPodInstall'  );    // in methods.php  function myPodInstall($POD) {  // do something here  }  </pre>
      <h3 id="uninstall">Uninstall Function</h3>
      <p>Just like the install function, you may optionally define a function that is called automatically when a pod is <em>disabled</em> via the Command Center. This function can cleanup any settings values, remove fields from the database schema, or do anything else necessary to clean up.</p>
      <p>Uninstall functions should be defined in a pod's methods file, and must accept a $POD object as a parameter:</p>
      <pre>// In settings.php:  $POD-&gt;registerPOD(    'custom_welcome',    'display a custom welcome page',    array(      '^welcome'=&gt;'custom_welcome/handler.php'    ),    array(),    dirname(__FILE__) . "/methods.php",    'customWelcomeSetup',    'myPodInstall',    'myPodUninstall'  );    // in methods.php  function myPodUninstall($POD) {  // do something here  }  </pre>
      <h3 id="schemachange">Extending The Schema</h3>
      <p>As of version 0.9, plugin pods can make changes to the database schema. Developers may want to consider changing the schema instead of using the meta field facilities when a custom field is going to be used in a frequent search query. Modifying the schema may make queries more efficient.</p>
      <p>PeoplePods does not provide a method for actually modifying the schema. You must do this via SQL commands called from an <a href="http://peoplepods.net/readme/all#install">install function</a>. But in addition to making the actual changes, you must tell PeoplePods how to handle the new fields. This allows PeoplePods to properly construct database queries.</p>
      <p>You can specify additional fields in any of the PeoplePods object tables using the <a href="http://peoplepods.net/readme/obj-adddatabasefields">addDatabaseFields()</a> command. In its simplest form, this command accepts an array of fields which have been added to the schema:</p>
      <pre>function myPodInstall($POD) {  $sql = "ALTER TABLE content ADD zipcodeplusfour varchar(10);";  $POD-&gt;executeSQL($sql);  }    function myPodUninstall($POD) {  $sql ="ALTER TABLE content DROP zipcodeplusfour;";  $POD-&gt;executeSQL($sql);  }    Content::addDatabaseFields(array('zipcodeplusfour'));  </pre>
      <p>In addition to defining fields that should be treated as a native field instead of a meta field, you may also define fields that should never be stored - as a meta field or as a native field. To do these, use <a href="http://peoplepods.net/readme/obj-addIgnoreFields">addIgnoreFields()</a>.</p>
      <p>Sometimes, you may need to add a field to the database that requires additional processing, either when it is being pulled from the database, or when it is inserted into the database. By passing in a select modifier and/or an insert modifier, you can change the way PeoplePods constructs its database queries to handle your custom fields.</p>
      <p>Select modifiers accept a PeoplePods object, and the name of the field being handled. They must return an array of SQL field select statements.</p>
      <p>Insert modifiers accept a PeoplePods object, the name of the field being handled, and the current value. They must return an array of SQL field set statements.</p>
      <p>The following example adds a 10-character field to the content table used to store a zipcode+4 value (78704-1234). Upon retrieving this value from the table, it will be split into its two constituent parts, and stored into 2 "fake" fields called "zipcode" and "plusfour." Upon saving, the two fake fields will be recombined into the full 10-character value.</p>
      <pre>function myPodInstall($POD) {  $sql = "ALTER TABLE content ADD zipcodeplusfour varchar(10);";  $POD-&gt;executeSQL($sql);  }    function myPodUninstall($POD) {  $sql ="ALTER TABLE content DROP zipcodeplusfour;";  $POD-&gt;executeSQL($sql);  }    Content::addDatabaseFields(array(  	'zipcodeplusfour'=&gt;array(  		'select'=&gt;'zipcodeSelect',  		'insert'=&gt;'zipcodeInsert'  	)  ));  Content::addIgnoreFields(array(  	'zipcode',  	'plusfour'  ));      // this function adds additional field requests to the SELECT query  function zipcodeSelect($obj,$field) {    	return array(  		'LEFT(zipcodeplusfour,5) as zipcode',  		'RIGHT(zipcodeplusfour,4) as plusfour',  	}  }    // this function modifies how the UPDATE and INSERT queries handle the field  function zipcodeInsert($obj,$field,$value) {    	if (isset($obj-&gt;zipcode) &amp;&amp; $isset($obj-&gt;plusfour)) {  		return array(  			'zipcodeplusfour="' .   			$obj-&gt;zipcode . '-' . $obj-&gt;plusfour .  			'"',  		);  	}  }  </pre>
      <h3>You're done!</h3>
      <p>At this point, you've got a fully functioning custom pod! You can turn it on and off and customize the messages it displays via the admin tools, you can modify the output by creating a copy of recent_posts.php in your theme folder, and you can safely upgrade PeoplePods and this pod without overwriting your custom modifications. You can even share this pod with other PeoplePod's sites by simply zipping up the <em>custom_welcome/</em> folder and sending it to other developers!</p>
      <h3>Further Reading</h3>
      <p>If you are going to develop your own pods, you will definitely want to familiarize yourself with the <a href="http://peoplepods.net/readme/sdk">PeoplePods SDK</a>.</p>
      <p>The best way to start a new pod - the way we do it in the home office - is to copy <a href="http://peoplepods.net/readme/core-pods">an existing pod</a> and make modifications.</p>
      <p>We anticipate that one of the most popular uses of custom pods will be to create interfaces for new content types - that is, to add functionality to the site to support the creation and display of custom information. For details on how to make this specific kind of pod, read <a href="http://peoplepods.net/readme/new-content-type">read this tutorial.</a></p>
      <h1><a href="http://peoplepods.net/readme/core-pods" title="Core Pods">Core Pods</a></h1>
      <p>core_api_simple provides a simple RESTful JSON api to many of the common functions you'll need to implement Ajax controsl.</p>
      <p>core_authentication provides everything you need to enable visitors to join your site, verify their accounts, and manage their security preferences.</p>
      <p>core_feeds provides a flexible method for producing lists and feeds of documents that match certain conditions.</p>
      <p>core_files handles file attachements.</p>
      <p>core_friends provides a friend management interface with friends, followers, and recommended friends.</p>
      <p>core_groups provides an interface for members to create and join groups.</p>
      <p>core_invite provides an email invitation tool so that members can invite their friends.</p>
      <p>core_newest provides a simple list of the newest posts on the site.</p>
      <p>core_private_messaging provides the ability for members to send messages to one another on the site, and to manage these conversations in an onsite inbox.</p>
      <p>core_profiles provides member with ability to create and modify personal profiles.</p>
      <p>core_search provides an interface for searching the content and the members of the site.</p>
      <p>core_usercontent provides a default handler for generic content. creates the add/edit screen, the permalink pages, and the reverse cron list of content. Can be customized to create new content types!</p>
      <p>dashboard provides a customized activity dashboard for members including new content from their friends, as well as new comments on content they're interested in.</p>
      <h1><a href="http://peoplepods.net/readme/admin-tools" title="Admin Tools">Admin Tools</a></h1>
      <h1><a href="http://peoplepods.net/readme/installing-peoplepods" title="Installing PeoplePods">Installing PeoplePods</a></h1>
      <p>To install PeoplePods, you will need a web server, a MySQL database server, and a copy of the PeoplePods code.</p>
      <p>NOTE: The PeoplePods archive contains a README.txt file which may have more up-to-date instructions!</p>
      <ol>
        <li>Download the latest version of PeoplePods from <a href="http://peoplepods.net/">PeoplePods.net</a>.</li>
        <li>Upload the archive to your web server and place it in whatever directory you want PeoplePods to live in.
          <p>All of the PeoplePods code will live in a sub-folder of your website called "peoplepods/" that is created when you uncompress the tarball. Thus, if you want PeoplePods functionality to be present on the homepage of your site, you'd place the tarball in the root directory of your site. If you want PeoplePods functionality to live in a sub-folder such as myurl.com/community, place the tarball into that folder.</p>
          <pre>Example    My web root is: /var/www/httpdocs  My domain is: http://myurl.com    If I want PeoplePods to control the homepage and other root   elements of my site, I decompress my tarball into my webroot,   and end up with:    PeoplePods folder is: /var/www/httpdocs/peoplepods  PeoplePods admin tool: http://myurl.com/peoplepods/  PeoplePods homepage: http://myurl.com    If I want PeoplePods to live in a sub-folder of my site, I would   decompress my tarball into that subfolder, and end up with:    PeoplePods folder is: /var/www/httpdocs/my_sub_folder/peoplepods  PeoplePods admin tool: http://myurl.com/my_sub_folder/peoplepods/  PeoplePods homepage: http://myurl.com/my_sub_folder/  </pre>
        </li>
        <li>Uncompress your PeoplePods tarball into your web folder
          <pre>      &gt; tar -zxvf peoplepods-0.9.tar.gz  </pre>
        </li>
        <li>This will create a new folder called peoplepods/ inside of which lives all of the PeoplePods code and configuration.</li>
        <li>Create a fresh, empty database on your MySQL server. Note the name of the database as well as the username and password.</li>
        <li>Before running the install, you will need to set the permissions on several folders. Change the permissions on files/ and lib/etc to 777:
          <pre>      &gt; chmod -R 777 peoplepods/files        &gt; chmod 777 peoplepods/lib/etc  </pre>
        </li>
        <li>Visit your new PeoplePods installaton in a browser. Load http://myurl.com/peoplepods</li>
        <li>The automatic installation process should take over. Enter details about the site and about the database.</li>
        <li>Once the installation has completed, visit the PeoplePods admin tool and customize the enabled pods and themes!</li>
        <li>Visit your new PeoplePods powered site!</li>
      </ol>
      <h1><a href="http://peoplepods.net/readme/sdk" title="SDK Documentation">SDK Documentation</a></h1>
      <p>If you are anxious to get hacking, we recommend the <a href="http://peoplepods.net/readme/sdk-quick-start-guide">SDK Quick Start Guide</a>.</p>
      <p>At the core of PeoplePods is an object oriented programming library that provides much of the functionality required for building today's modern social applications. It provides a generic interface to create and manage content, members, and member activities.</p>
      <p>If you are not familiar with the <a href="http://en.wikipedia.org/wiki/Object_oriented_programming">basics of object oriented programming</a>, take some time to read up before proceeding. In short, object oriented programming, or OOP, allows you to bundle pieces of data and functionality together into logical units. PeoplePods provides <a href="http://peoplepods.net/readme/object-definitions">a variety of different objects</a> that represent different kinds of information.</p>
      <p>For example, in PeoplePods, each member is represented by a <a href="http://peoplepods.net/readme/person-object">person object</a>. The object contains information about the member, such as the name and email address used to sign up, as well as functions available to that member, such as adding a friend or bookmarking a page. Here is a tiny snippet of code to illustrate this concept:</p>
      <pre>// get my person object from the main POD object  $member = $POD-&gt;currentUser();    // write out some information about this person  echo "My email address is:";  $member-&gt;write('email');    // add some content to this person's favorite list  $member-&gt;addFavorite($post);  </pre>
      <p>All of the functionality within a PeoplePods application originates from a single <a href="http://peoplepods.net/readme/peoplepods-object">PeoplePods object</a>. We recommend developers name their parent object $POD, as this convention is used within many of the templates and sub-functions in the library.</p>
      <pre>$POD = new PeoplePod();  $content = $POD-&gt;getContent();  $person = $POD-&gt;getPerson();  </pre>
      <h3>Core Concepts</h3>
      <p><strong>Generic Interfaces</strong> One of the main ideas behind PeoplePods is that it should be provide access to all sorts of content using the same set of functions. That is, you can use the same function with the same syntax to load blog posts as you would to load calendar events. Similarly, a generic system has been provided so that new types of relationships between memberships can be defined - friends, enemies, family, etc - that use the same syntax and provide the same access methods. What this means is, you only have to master a few simple functions to gain access to all of the power of PeoplePods.</p>
      <p>This generic access is provided by <a href="http://peoplepods.net/readme/object-definitions">the core objects</a> such as <a href="http://peoplepods.net/readme/stacks">$Stack</a>, as well as the <a href="http://peoplepods.net/readme/flags">flagging module</a>.</p>
      <p><strong>Ad Hoc Data Definition</strong> PeoplePods is different from many content management systems in that it does not require you to pre-define your content types or database schema. It uses a generic schema and the powers of it's underlying relational database system to allow you to create new fields on any content type at any time, and to define new content types on the fly. The <a href="http://peoplepods.net/readme/admin-tools">admin tools</a> will automatically adapt to the new content types you create.</p>
      <p>This functionality is provided by the <a href="http://peoplepods.net/readme/meta-fields">meta field module</a>.</p>
      <h3>Building New Functionality</h3>
      <p>Unlike many website building systems available today, PeoplePods was not designed to create a specific type of website - a blog, for example. There are no limits to the type of pages present on the site, and there is no predefined structure inherent to a PeoplePods site. This allows developers to freely define new types of content and areas of functionality by building plugin pods, or by using PeoplePods functionality in other scripts.</p>
      <h3>Plugin Pods</h3>
      <p>PeoplePods has a simple plugin structure called "Pods" which allows developers to create reusable modules that define different functions of the site. It is helpful to think of each pod as defining a specific page type.</p>
      <p>For example, one pod creates member profiles. Another creates content permalink pages. Yet another creates a personalized dashboard page.</p>
      <p>Using the pod plugin system has a variety of advantages, and is the recommended method for creating new functionality within your PeoplePods site. Pods automatically map their functionality to friendly URLs, provide role-based security, and can be toggled on and off within the <a href="http://peoplepods.net/readme/admin-tools">admin tools</a>.</p>
      <p>We highly recommend using one of the <a href="http://peoplepods.net/readme/core-pods">core pods</a> as the basis for any new pods you create. Doing this will provide you with a template for all the necessary components.</p>
      <p>Read the <a href="http://peoplepods.net/readme/creating-new-pods">instructions for creating new pods</a>, or the more specific instructions on <a href="http://peoplepods.net/readme/new-content-type">create a pod that will create a new content type</a>.</p>
      <h3>Stand Alone Scripts</h3>
      <p>If you don't want to play by our rules, you can use PeoplePods in normal PHP scripts. All one must do is include the PeoplePods library into the script:</p>
      <pre>require_once("$podlib/PeoplePods.php");  $POD = new PeoplePod();  </pre>
      <p>After creating the $POD object, all of the power of PeoplePods is available for use in that script. This makes it easy to add PeoplePods functionality to existing scripts - such as creating dynamic and personalized sidebars.</p>
      <p>It is important to note that the difference between a stand alone script and a full pod is relatively minor - a pod simply provides extra information on how the script should be integrated into the site, whereas a stand alone script is just a script. This might mean the difference between having a pretty URL like "mysite.com/people/chester" and and ugly one like "mysite.com/scripts/profilescript.php?username=chester" Of course, talented developers can fix this problem using <a href="http://httpd.apache.org/docs/1.3/mod/mod_rewrite.html">mod_rewrite</a>.</p>
      <h3>Hack Yourself Crazy</h3>
      <p>We highly recommend that you explore the code of the SDK library. We have made every effort to make our code as readable and well organized as possible with the hopes that skilled developers will be able to modify and expand the provided functionality as necessary. In many cases, creating custom functionality may be as easy as cutting and pasting a few lines of code, then tweaking a parameter or two.</p>
      <h1><a href="http://peoplepods.net/readme/sdk-quick-start-guide" title="SDK Quick Start Guide">SDK Quick Start Guide</a></h1>
      <p>This page is intended to give developers a quick overview of the basic functionality of PeoplePods. Links to further documentation are scattered throughout - we highly encourage you to explore further to get a good feel for the scope and power of PeoplePods.</p>
      <p>Using the techniques below, you can layer PeoplePods functionality onto existing PHP-powered sites, or you can <a href="http://peoplepods.net/readme/creating-new-pods">create new plugin pods</a> which function within PeoplePods.</p>
      <h3>Creating a $POD</h3>
      <p>To access PeoplePods, you need to <a href="http://peoplepods.net/readme/peoplepods-object">create a $POD object</a>. You do this by including the library file, and calling PeoplePod's constructor. In order to do so in a manner compatible with the core pods and default theme, you need to call it like so:</p>
      <pre>include_once("$my_peoplepods_dir/PeoplePods.php");  $POD = new PeoplePod(array('authSecret'=&gt;$_COOKIE['pp_auth']));  </pre>
      <p>You may want to specify that the new feature you are creating can only be accessed by certain people. You can do this using the 'lockdown' parameter:</p>
      <pre>// only allow logged in people  $POD = new PeoplePod(array(   'authSecret'=&gt;$_COOKIE['pp_auth'],    'lockdown'=&gt;'login'  ));    // only allow logged in people who have confirmed their email address  $POD = new PeoplePod(array(    'authSecret'=&gt;$_COOKIE['pp_auth'],    'lockdown'=&gt;'verified'  ));    // only allow logged in people with the adminUser permission  $POD = new PeoplePod(array(    'authSecret'=&gt;$_COOKIE['pp_auth'],    'lockdown'=&gt;'adminUser'  ));  </pre>
      <p>Once you've got your $POD object, you can access the details about the current logged in user, if one exists, using <a href="http://peoplepods.net/readme/pod-isauthenticated">$POD-&gt;isAuthenticated()</a> and <a href="http://peoplepods.net/readme/pod-currentuser">$POD-&gt;currentUser()</a>.</p>
      <h3>Creating Content</h3>
      <p>Creating a piece of PeoplePods content is as easy as creating an empty <a href="http://peoplepods.net/readme/content-object">content object</a> to store it using <a href="http://peoplepods.net/readme/pod-getcontent">$POD-&gt;getContent()</a>, then calling the <a href="http://peoplepods.net/readme/content-save">save() function</a>. At the bare minimum, a piece of content must have a headline and a type:</p>
      <pre>$new_content = $POD-&gt;getContent();  $new_content-&gt;headline = 'This is a new post';  $new_content-&gt;type = 'post';  $new_content-&gt;save();  </pre>
      <p>Part of the magic of PeoplePods is that you can create any field you want, on the fly, and PeoplePods will automatically handle it as if it was a native field in your database. This allows you to create many types of content in many different configurations. We call this <a href="http://peoplepods.net/readme/meta-fields">creating meta fields</a>. But you don't need to know anything special to access this functionality - it all happens behind the scenes.</p>
      <pre>$new_content-&gt;new_field = 'foo';  echo $new_content-&gt;new_field;  </pre>
      <p>PeoplePods automatically tracks a bunch of information about the content, including when it was created and <a href="http://peoplepods.net/readme/obj-author">who created it</a>, so you can just worry about stuffing your website with cool content.</p>
      <p>Once you've created your content, you can <a href="http://peoplepods.net/readme/content-addtag">add tags</a>, <a href="http://peoplepods.net/readme/content-addcomment">comments</a> and <a href="http://peoplepods.net/readme/content-addfile">files</a> using simple object methods:</p>
      <pre>$content-&gt;addComment('my comment goes here');  $content-&gt;addTag('foo');  $content-&gt;addFile($filename,$_FILES[$filename]);  </pre>
      <p>Combining all of these features, you can create and manage virtually any kind of web content, and can do so without any sort of pre-configuration.</p>
      <pre>// create a new piece of content of type 'post'  $new_post = $POD-&gt;getContent();  $new_post-&gt;type='post';  $new_post-&gt;headline='my new post';  $new_post-&gt;save();    // now create another piece of content of type 'receipt'  // the receipt will use a meta field to track what content was created  $receipt = $POD-&gt;getContent();  $receipt-&gt;type = 'receipt';  $receipt-&gt;headline='Created content';  $receipt-&gt;content_created = $new_post-&gt;get('id');  $receipt-&gt;cost = 500;  $receipt-&gt;save();  </pre>
      <h3>Finding and Displaying Stuff</h3>
      <p>PeoplePods provides a query interface to all of the stuff it manages, including your website content, users, groups, comments, files and tags. You can use this interface to generate customized and personalized lists of stuff, then output them into your pages. In this way, you can create blogs, sidebars, tag clouds, lists of attached files, comment streams, and many other configurations.</p>
      <p>Each type of "stuff" PeoplePods manages has its own query function, but all of the functions take the same parameters:</p>
      <pre>$posts = $POD-&gt;getContents($conditions,$sort,$count,$offset);  $people = $POD-&gt;getPeople($conditions,$sort,$count,$offset);  $files = $POD-&gt;getFiles($conditions,$sort,$count,$offset);  $groups = $POD-&gt;getGroups($conditions,$sort,$count,$offset);  $tags = $POD-&gt;getTags($conditions,$sort,$count,$offset);  $comments = $POD-&gt;getComments($conditions,$sort,$count,$offset);  </pre>
      <p>Most of the time, you'll be concerned with the $conditions parameter. This is an array of field=&gt;value pairs that describe the content you want to load. This might be as simple as specifying the type of content or the id of the content's owner, or it might involve a combination of several fields. You can <a href="http://peoplepods.net/readme/stack-parameters">read about stack parameters here</a>.</p>
      <p>The return value of these functions is a list of objects, or what we call a <a href="http://peoplepods.net/readme/stacks">stack</a>. You can do all sorts of things with stacks, including <a href="http://peoplepods.net/readme/stack-getnext">iterating over them</a>, <a href="http://peoplepods.net/readme/stack-contains">searching them</a>, <a href="http://peoplepods.net/readme/stack-output">and outputting them to the page</a>.</p>
      <p>Each object also has its own <a href="http://peoplepods.net/readme/content-output">output function</a>, which uses a template file located in one of the <a href="http://peoplepods.net/readme/themes">themes</a>. You can also output individual fields using <a href="http://peoplepods.net/readme/obj-write">write()</a> and other related functions.</p>
      <pre>// get recent posts  $posts = $POD-&gt;getContents(array('type'=&gt;'post'));    // get recent posts by a specific author  $posts = $POD-&gt;getContents(array('type'=&gt;'post','userId'=&gt;6));    // use foreach to iterate over the results  foreach ($posts as $post) {     $post-&gt;output();  }    // use while to iterate over the results  while ($post = $posts-&gt;getNext()) {    $post-&gt;output();  }    // just output the entire list, with automatically generated headers and footers  $posts-&gt;output();  </pre>
      <p>You can query any of the different object types using any field in their object definition as well as any fields you create using the meta fields technique. You can also query fields in related objects, like the author of a post, members of groups, or a comment's parent content. Using this capability, you can create virtually any view of your website that you can imagine.</p>
      <pre>// get all comments that are attached to content in a specific group  $comments = $POD-&gt;getComments(array('d.groupId'=&gt;5));    // get all files created by an admin user  $files = $POD-&gt;getFiles(array('u.adminUser'=&gt;1));  </pre>
      <p>Once you have the stuff you want, you can access related stuff without more queries. Each type of object comes with predefined stacks:</p>
      <pre>$comments = $content-&gt;comments();  $author = $content-&gt;author();  $files = $content-&gt;files();  $content = $comment-&gt;parent();  $people = $group-&gt;members();  </pre>
      <h3>Activity Streams, Alerts and Private Messaging</h3>
      <p>PeoplePods supports a variety of messaging techniques, including public activity stream, automated alerts, and member-to-member private messaging.</p>
      <p><a href="http://peoplepods.net/readme/activity">Read about Activity Streams</a></p>
      <p><a href="http://peoplepods.net/readme/alerts">Read about Alerts</a></p>
      <p><a href="http://peoplepods.net/readme/private-messaging">Read about Private Messaging</a></p>
      <h3>Creating Relationships Between People and Content</h3>
      <p>You can create relationships between 2 people, or between a person and a piece of content using <a href="http://peoplepods.net/readme/flags">flags</a>:</p>
      <pre>// add $content to $user's favorites  $content-&gt;addFlag('favorite',$user);    // add $friend as $user's friend  $friend-&gt;addFlag('friend',$user);  </pre>
      <p>You can then query the content and people using those flags:</p>
      <pre>// load my favorites  $favorites = $POD-&gt;getContents(array(    'flag.name'=&gt;'favorite',     'flag.userId'=&gt;$user-&gt;id  ));    // load my friends  $friends = $POD-&gt;getPeople(array(    'flag.name'=&gt;'friend',    'flag.userId'=&gt;$user-&gt;id  ));  </pre>
      <p>Luckily, PeoplePods provides a bunch of built in flag management for <a href="http://peoplepods.net/readme/person-favorites">favorites</a>, <a href="http://peoplepods.net/readme/person-friends">friends</a>, <a href="http://peoplepods.net/readme/person-followers">followers</a>, <a href="http://peoplepods.net/readme/person-watched">and comment subscriptions</a>.</p>
      <h3>Groups</h3>
      <p>We believe the future of online community revolves around small groups. Groups for clubs, groups for interests, groups for neighborhoods, and group for groups! Thus, we've built basic group handling right into the core of PeoplePods.</p>
      <pre>// create a group  $new_group = $POD-&gt;getGroup();  $new_group-&gt;group_name = 'Scoobies';  $new_group-&gt;description = 'For vampire hunters';  $new_group-&gt;save();    // add a piece of content to a group  $new_group-&gt;addContent($post);    // add a user to the group  $new_group-&gt;addMember($user);  </pre>
      <p><a href="http://peoplepods.net/readme/group-object">Read more about groups here</a>.</p>
      <h1><a href="http://peoplepods.net/readme/stacks" title="Stacks">Stacks</a></h1>
      <p>PeoplePods handles lists of objects using a special type of object called a Stack. Stacks give you the ability to query people, content, groups, comments and files, then manipulate the results in various ways.</p>
      <p>PeoplePods provides a bunch of pre-defined stacks such as <a href="http://peoplepods.net/readme/person-favorites">$Person-&gt;favorites()</a> and <a href="http://peoplepods.net/readme/content-comments">$Content-&gt;comments()</a>. You can also create new stacks using the stack constructor functions: <a href="http://peoplepods.net/readme/pod-getpeople">$POD-&gt;getPeople()</a>, <a href="http://peoplepods.net/readme/pod-getcontents">$POD-&gt;getContents()</a>, <a href="http://peoplepods.net/readme/pod-getcomments">$POD-&gt;getComments()</a>, and <a href="http://peoplepods.net/readme/pod-%3Egetgroups">$POD-&gt;getGroups()</a>.</p>
      <p>All of these functions take a very similar set of parameters:</p>
      <pre>$people = $POD-&gt;getPeople($conditions,$sort,$count,$offset);    $posts = $POD-&gt;getContents($conditions,$sort,$count,$offset);    $groups = $POD-&gt;getGroups($conditions,$sort,$count,$offset);    $comments = $POD-&gt;getComments($conditions,$sort,$count,$offset);  </pre>
      <p>$conditions is an associative array of conditions that the objects must meet to be included in the stack. PeoplePods will attempt to link in related information based on what conditions are passed in. Read about <a href="http://peoplepods.net/readme/stack-parameters">creating these conditions</a>.</p>
      <p>$sort is a SQL-style sort statement. You can sort by any of the fields in the object, or by any fields in related objects linked in to the query.</p>
      <p>$count is the number of objects you want to return.</p>
      <p>$offset is the number of objects the stack should pass over before returning results. This allows you to page your results.</p>
      <p>To create a stack of recent content, you might use:</p>
      <pre>$recent = $POD-&gt;getContents(array('type'=&gt;'post'),'date DESC',20,0);  </pre>
      <p>Once you've got your stack set up, you can do all sorts of fun things with it:</p>
      <pre>// see how many items you have in your stack  $count = $recent-&gt;count();    // see how many total items match your conditions  $totalCount = $recent-&gt;totalCount();    // sort by any field, including meta fields.  $recent-&gt;sortBy('rating');    // see if another 'page' of results exists:  if ($recent-&gt;hasNextPage()) {    // print out next page link  }    // use a while loop to iterate over the items  while ($post = $recent-&gt;getNext()) {    $post-&gt;output('short');  }    // reset the contents  $post-&gt;reset();    // use a foreach loop to iterate over the items  foreach ($recent as $post) {     $post-&gt;output('short');  }    // reset again!  $post-&gt;reset();    // forget iterating, and just output everything  $recent-&gt;output('short');    // extract an array of the values of one specific field  $friend_ids = $person-&gt;friends()-&gt;extract('id');  </pre>
      <p>Stacks do a ton of behind the scenes work for you to make things as efficient and easy to use as possible. For example, if a stack stumbles upon a piece of content that the current user does not have access to (such as content with friends_only or group_only privacy), it will automatically skip the record and find another to replace it. This frees you from considering privacy settings when loading content, while ensuring that you'll always get the right number of results back.</p>
      <p>Stacks use a technique called <a href="http://en.wikipedia.org/wiki/Lazy_loading">lazy loading</a> to make sure that the data you need is ready when you need it, but not until then. What this means is, you can set up a stack without actually loading information from the database. The database will only be accessed when the stack data is accessed for the first time.</p>
      <p>This allows PeoplePods to always offer the pre-defined stacks like <a href="http://peoplepods.net/readme/person-friends">$Person-&gt;friends()</a> without causing unnecessary database hits when you aren't using them. They're always available, but will only leap into action when called upon.</p>
      <p>This also allows you to define a stack, and never actually access it's data, but to access some of its properties:</p>
      <pre>// set up a stack containing my followers  $followers = $POD-&gt;getPeople(array(    'flag.name'=&gt;'friend',    'flag.itemId'=&gt;$POD-&gt;currentUser()-&gt;get('id')  ));    // now, access the totalCount function without   // actually loading the records from the db  echo $followers-&gt;totalCount();  </pre>
      <h1><a href="http://peoplepods.net/readme/stack-sortby" title="$Stack->sortBy()">$Stack-&gt;sortBy()</a></h1>
      <pre>$Stack-&gt;sortBy($field,$reverse=false);  </pre>
      <p>Resort the contents of the stack by $field. You can also sort by meta fields!</p>
      <h1><a href="http://peoplepods.net/readme/stack-totalcount" title="$Stack->totalCount()">$Stack-&gt;totalCount()</a></h1>
      <p>Returns the total number of items available to the stack in the database.</p>
      <h1><a href="http://peoplepods.net/readme/stack-count" title="$Stack->count()">$Stack-&gt;count()</a></h1>
      <p>Returns the number of items currently in the stack.</p>
      <h1><a href="http://peoplepods.net/readme/stack-offset" title="$Stack->offset()">$Stack-&gt;offset()</a></h1>
      <p>Returns the stack's current offset value.</p>
      <h1><a href="http://peoplepods.net/readme/stack-getpreviouspage" title="$Stack->getPreviousPage()">$Stack-&gt;getPreviousPage()</a></h1>
      <p>Reload the stack with the previous set of results, based on the original $count and $offset parameters.</p>
      <h1><a href="http://peoplepods.net/readme/stack-getnextpage" title="$Stack->getNextPage()">$Stack-&gt;getNextPage()</a></h1>
      <p>Reload the stack with the next set of results, based on the $count and $offset parameters originally passed in.</p>
      <h1><a href="http://peoplepods.net/readme/stack-previouspage" title="$Stack->previousPage()">$Stack-&gt;previousPage()</a></h1>
      <p>Returns the offset value of the previous page of results.</p>
      <h1><a href="http://peoplepods.net/readme/stack-haspreviouspage" title="$Stack->hasPreviousPage()">$Stack-&gt;hasPreviousPage()</a></h1>
      <p>Returns true if there are more results in the database than were included in the stack.</p>
      <p>You can use this to generate paging links:</p>
      <pre>// is there a next page?  if ($posts-&gt;hasPreviousPage()) {     echo "<a href="http://peoplepods.net/readme/all?offset=%22%20.%20$posts-%3EpreviousPage()%20.%20%22">Previous</a>";  }  </pre>
      <p>Or, you can just load the next page:</p>
      <pre>if ($posts-&gt;hasPreviousPage()) {    $posts-&gt;getPreviousPage();  }  </pre>
      <h1><a href="http://peoplepods.net/readme/stack-nextpage" title="$Stack->nextPage()">$Stack-&gt;nextPage()</a></h1>
      <p>Returns the offset value of the next page of results.</p>
      <h1><a href="http://peoplepods.net/readme/stack-hasnextpage" title="$Stack->hasNextPage()">$Stack-&gt;hasNextPage()</a></h1>
      <p>Returns true if there are more results in the database than were included in the stack.</p>
      <p>You can use this to generate paging links:</p>
      <pre>$offset = ($_GET['offset']) ? $_GET['offset'] : 0;    // load 5 documents  $posts = $POD-&gt;getContents(    array('type'=&gt;'post'),    'date DESC',    5,$offset);    // display all 5 docs.  $posts-&gt;output();    // is there a next page?  if ($posts-&gt;hasNextPage()) {     echo "&lt;a href='?offset=" . $posts-&gt;nextPage() . "'&gt;Next&lt;/a&gt;";  }  </pre>
      <p>Or, you can just load the next page:</p>
      <pre>if ($posts-&gt;hasNextPage()) {    $posts-&gt;getNextPage();  }  </pre>
      <h1><a href="http://peoplepods.net/readme/stack-peekahead" title="$Stack->peekAhead()">$Stack-&gt;peekAhead()</a></h1>
      <p>Returns the next document in the list without advancing the list forward. If no next item can be found, returns null.</p>
      <h1><a href="http://peoplepods.net/readme/stack-add" title="$Stack->add()">$Stack-&gt;add()</a></h1>
      <pre>$Stack-&gt;add($obj);  </pre>
      <p>Adds $obj to $Stack. If an item with the same id field as $obj is already in the stack, $obj is assumed to already be in the stack and is not added.</p>
      <p>It is important to note that simply adding an object to a stack does not modify it's contents in any way. That is, it does not set the object's contents so that it would appear in that stack again, were it recreated.</p>
      <h1><a href="http://peoplepods.net/readme/stack-implode" title="$Stack->implode()">$Stack-&gt;implode()</a></h1>
      <pre>$list = $stack-&gt;implode($delimiter,$field);  </pre>
      <p>Returns a string containing the value of $field from each item in the stack, separated by $delimiter.</p>
      <pre>$names = $person-&gt;friends()-&gt;implode(',','nick');  // returns something like  // Ben, Chester, Katie  </pre>
      <h1><a href="http://peoplepods.net/readme/stack-extract" title="$Stack->extract()">$Stack-&gt;extract()</a></h1>
      <pre>$values = $stack-&gt;extract($field);  </pre>
      <p>Returns an array containing the value of $field for each item in the stack. Handy for generating <a href="http://peoplepods.net/readme/stack-parameters">stack conditions</a> based on other stacks.</p>
      <pre>$ids = $person-&gt;friends()-&gt;extract('id');  </pre>
      <h1><a href="http://peoplepods.net/readme/stack-contains" title="$Stack->contains()">$Stack-&gt;contains()</a></h1>
      <pre>$obj = $stack-&gt;contains($field,$value);  </pre>
      <p>Searches all the objects in the stack and returns the first object where $field = $value. If no object is found, returns null.</p>
      <p>This is commonly used to look for image attachements:</p>
      <pre>if ($img = $content-&gt;files()-&gt;contains('file_name','img')) {   // do something with $img  } else {  // no image!  }   </pre>
      <h1><a href="http://peoplepods.net/readme/stack-fill" title="$Stack->fill()">$Stack-&gt;fill()</a></h1>
      <p>Causes the stack to load its data from the database.</p>
      <p>This function is mostly used internally, and should only rarely be used. The only time it is explicitly necessary is when you want to force a stack to reload its contents from the database, such as when you've added an item that should be included.</p>
      <h1><a href="http://peoplepods.net/readme/stack-output" title="$Stack->output()">$Stack-&gt;output()</a></h1>
      <pre>$Stack-&gt;output($template_name);  </pre>
      <p>Outputs the contents of the entire stack with special formatting variables made available to the templates. If $template_name is specified, a template of that name from the appropriate theme folder will be used. Otherwise, the default 'output' template is used.</p>
      <pre>$person-&gt;friends()-&gt;output('short');  </pre>
      <p>When outputted through a stack, each object in the list gets special formatting variables available in the template which pertain to the item's position in the list:</p>
      <ul>
        <li>isFirstItem - boolean</li>
        <li>isEvenItem - boolean</li>
        <li>isOddItem - boolean</li>
        <li>isLastItem - boolean</li>
        <li>listCount - numeric position in stack, starting at 1</li>
        <li>isThirdItem, isFourthItem,isFifthItem,isSixthItem,isSeventhItem,isEigthItem,isNinthItem - is item the Nth item? True for every Nth item</li>
      </ul>
      <p>In templates, you can access these as if they were normal fields:</p>
      <pre>// in template file  if ($content-&gt;get('isFirstItem')) {     // do something special for the first item  }  </pre>
      <p>By default, stacks wrap their output in a simple header and footer template, located in the theme folder under the stacks sub-folder. You can override this by passing in a few extra parameters:</p>
      <pre>// no header or footer  $stack-&gt;output('short',null,null);    // use the normal header,   // but swap in the pagination footer  $stack-&gt;output('short','header','pager');  </pre>
      <p>Finally, you can specify a title and an empty message to be displayed in the header and footer templates:</p>
      <pre>$stack-&gt;output('short','header','pager','Search Results','No results!');  </pre>
      <h1><a href="http://peoplepods.net/readme/stack-asarray" title="$Stack->asArray()">$Stack-&gt;asArray()</a></h1>
      <p>Returns the entire stack as an array of associative arrays. Great for returning json encoded results:</p>
      <pre>echo json_encode($search_results-&gt;asArray());  </pre>
      <h1><a href="http://peoplepods.net/readme/stack-getnext" title="$Stack->getNext()">$Stack-&gt;getNext()</a></h1>
      <p>Returns the next item in the stack. If no items remain, returns null. Great for using in a while loop!</p>
      <pre>while ($post = $posts-&gt;getNext()) {  // do stuff with $post  }  </pre>
      <h1><a href="http://peoplepods.net/readme/flags" title="Flags">Flags</a></h1>
      <p>Flags are per-user pieces of information that can be added to <a href="http://peoplepods.net/readme/person-object">Person Objects</a>, <a href="http://peoplepods.net/readme/content-object">Content Objects</a>, and <a href="http://peoplepods.net/readme/group-object">Group Objects</a>.</p>
      <p>Flags establish links between people, and between people and pieces of content. <a href="http://peoplepods.net/readme/person-favorites">Favorites</a>, <a href="http://peoplepods.net/readme/person-watched">watch lists</a>, and <a href="http://peoplepods.net/readme/person-friends">friends</a> are all implementations of flags that are provided by PeoplePods, but you can create your own custom flags too!</p>
      <p>Flags might be used to create new relationships between users, such as additional friend lists or block lists.</p>
      <p>Flags can also be used to create new relationships to content, such as adding a rating, or reporting something as "offensive."</p>
      <p>To learn about adding and querying flags, see <a href="http://peoplepods.net/readme/obj-addflag">$Obj-addFlag()</a>, <a href="http://peoplepods.net/readme/obj-removeflag">$Obj-removeFlag()</a>, <a href="http://peoplepods.net/readme/obj-hasflag">$Obj-hasFlag()</a>, and <a href="http://peoplepods.net/readme/obj-toggleflag">$Obj-&gt;toggleFlag()</a>.</p>
      <p>If you want to add a value to a person or piece of content that will be the same for every user, use <a href="http://peoplepods.net/readme/meta-fields">meta fields</a>.</p>
      <h1><a href="http://peoplepods.net/readme/meta-fields" title="Meta Fields">Meta Fields</a></h1>
      <p>PeoplePods allows you to extend data included in the <a href="http://peoplepods.net/readme/person-object">Person Object</a>, <a href="http://peoplepods.net/readme/content-object">Content Object</a>, and the <a href="http://peoplepods.net/readme/group-object">Group Object</a> by adding meta fields.</p>
      <p>Meta fields behave, for the most part, the same way normal fields behave. You can <a href="http://peoplepods.net/readme/obj-get">get()</a>, <a href="http://peoplepods.net/readme/obj-set">set()</a> and <a href="http://peoplepods.net/readme/obj-write">write()</a> them as if they were "real" fields.</p>
      <p>Meta fields can be added at any time with no prior configuration. You can add different sets of meta fields to each object, or reuse the same fields. However, each object can only have one field of any given name.</p>
      <p>If you need to assign values to objects that are different for each user, use <a href="http://peoplepods.net/readme/flags">flags</a>.</p>
      <p>Use meta fields to add profile questions to your $person objects, or to collect extra information about $content objects.</p>
      <p>See also: <a href="http://peoplepods.net/readme/obj-addmeta">$Obj-&gt;addMeta()</a>, <a href="http://peoplepods.net/readme/obj-removemeta">$Obj-&gt;removeMeta()</a>, and <a href="http://peoplepods.net/readme/obj-getmeta">$Obj-&gt;getMeta()</a>.</p>
      <h1><a href="http://peoplepods.net/readme/object-definitions" title="Object Definitions">Object Definitions</a></h1>
      <p>PeoplePods is an <a href="http://en.wikipedia.org/wiki/Object_oriented_programming">object oriented</a> SDK, which means that all of the functionality for each type of information is bundled up into an object. There are a variety of objects than handle different types of data, and offer different functionality.</p>
      <p>All of the objects are listed below. It is important to note that many of the functions that are present in each object are actually defined by the parent <a href="http://peoplepods.net/readme/obj">$Obj object</a>. These generic functions have been included in each object definition, however it is helpful to remember which functions are available to all objects, and which are present only for certain types of object.</p>
      <p>Lists of objects are handled by another type of object, the <a href="http://peoplepods.net/readme/stacks">Stack</a>.</p>
      <h1><a href="http://peoplepods.net/readme/private-messaging" title="Private Messaging">Private Messaging</a></h1>
      <pre>// send a message to $user from $POD-&gt;currentUser()  $user-&gt;sendMessage($message);    // return a Stack of "thread" objects sorted by most recent activity on the thread.  // this returns the inbox for the currentUser.  $inbox = $POD-&gt;getInbox($count,$offset);    // get # of unread messages in all threads  $total_unread = $inbox-&gt;unreadCount():    // get the most recent thread  $thread = $inbox-&gt;getNext();    // get # of unread messages in a thread  $unread = $thread-&gt;unreadCount();    // who am I talking to?  $user = $thread-&gt;recipient();    // output a thread  $thread-&gt;output();    // mark all messges in the thread as read  $thread-&gt;markAsRead();    // reply to a thread  $thread-&gt;reply($message);    // delete all messages from a thread  $thread-&gt;clear();      // get messages out of a thread  // messages come out in cronological order!  $messages = $thread-&gt;messages();    // get first message  $message = $messages-&gt;getNext();    // message from returns a user object  $from = $message-&gt;from();    // message to return s a user object  $to = $message-&gt;to();    //output a message  $message-&gt;output();  </pre>
      <h1><a href="http://peoplepods.net/readme/alerts" title="Sending and Receiving Alerts">Sending and Receiving Alerts</a></h1>
      <p>Alerts are automated messages sent to members by the system when certain events occur on the site,  such as when a member adds another member as a friend, or when a comment is posted on a member's profile or content.  An alert is sent to and displayed for one specific member of the site, unlike an <a href="http://peoplepods.net/readme/activity">activity stream message</a>, which may appear to all members of the site.</p>
      <p>Alerts share much in common with the activity stream and the private member-to-member messages.  They may have content or people attached to them, and they can be marked read or unread.</p>
      <p>Alerts may optionally be sent as email messages to the recipient.</p>
      <h3>Send an Alert</h3>
      <pre>// send an alert to a user  $user-&gt;sendAlert(  	$message,  	$actingUser=null,  	$targetContent=null,  	$ok_to_send_email=true  );  </pre>
      <p>The sendAlert method in its simplest form can be called with one parameter - a message to be displayed to $user.</p>
      <pre>$user-&gt;sendAlert('You are so cool.');  </pre>
      <p>In the event that the alert is being sent in response to another user's action, such as when a user leaves a comment on another user's profile, include the second parameter, which should be the Person record of the user who has performed the action about which the alert is being sent.</p>
      <pre>$friend-&gt;addFriend($user);  $user-&gt;sendAlert('{actor.nick} added you as a friend',$friend);  </pre>
      <p>In the event that the alert pertains to one specific piece of content (or comment or group), you may include that piece of content as an attachment:</p>
      <pre>$content-&gt;addComment($comment);  $content-&gt;author()-&gt;sendAlert(  	'{actor.nick} left a comment on {targetContent.headline}',  	$POD-&gt;currentUser(),  	$content  );  </pre>
      <p>You may override the system-wide setting for sending alerts as email messages by passing in the final parameter. This setting can be controlled in the PeoplePods Command Center on the Options -&gt; Notifications menu.</p>
      <pre>// do NOT send this alert as an email  $user-&gt;sendAlert($alert,$user,$content,false);  </pre>
      <h3>Attaching Data</h3>
      <p>If we attach data to an alert when we publish it, we can reference values from the objects within the message using simple tokens - this allows the messages to stay correct, even as the data changes.</p>
      <p>There are two types of token available - one that simply inserts a value, and one that inserts a value that is also a link to the object's permalink page.</p>
      <p>To insert a simple value, use a token in the form of: <em>@object.field</em>.</p>
      <p>To insert a link, use a token in the form of <em>{object.field}</em></p>
      <p>To reference the recipient of the alert, use the targetUser token:</p>
      <pre>$user-&gt;sendAlert('Hey @targetUser.nick!  You are receiving this alert');  </pre>
      <p>To reference the member whose action caused the alert to be triggered, use the actor token:</p>
      <pre>$user-&gt;sendAlert('{actor.nick} is now following you',$actor);  </pre>
      <p>To reference the attached piece of content, use the targetContent token:</p>
      <pre>$user-&gt;sendAlert(  	'{actor.nick} left a comment on {targetContent.headline}',  	$actor,  	$targetContent  );  </pre>
      <h3>Getting Unread Alerts</h3>
      <p>To get a list of a member's unread alerts, use the $Person-&gt;getAlerts() method. This will return a stack of alert objects.</p>
      <pre>// get at most 5 unread alerts  $alerts = $user-&gt;getAlerts(5);    // output all alerts using the theme/alerts/output.php template.  $alerts-&gt;output();  </pre>
      <h3>Marking Alerts as Read</h3>
      <p>There are two methods for marking alerts as read. You may mark individual alerts as read by calling the $alert-&gt;markAsRead() method, or you may mark all alerts pertaining to a specific person or piece of content by calling the $person-&gt;expireAlertsAbout($obj) method.</p>
      <pre>// mark each alert as read individually  $alerts = $user-&gt;getAlerts();  foreach($alerts as $alert) {  	$alert-&gt;markAsRead();  }    // mark alerts about $content as read  $user-&gt;expireAlertsAbout($content);    // mark alerts about $person as read  $user-&gt;expireAlertsAbout($person);  </pre>
      <p>Use $alert-&gt;markAsRead() when a user manually dismisses an alert. Use $person-&gt;expireAlertsAbout() when a user visits the permalink page for an object so that any related alerts will automatically be marked as read once the user visits the object's page.</p>
      <h3>Displaying Activity Streams</h3>
      <p>Alerts are output via the output() method, either on the alert list itself, or on an individual alert message. Each message is output using a template from the alerts/ folder. By default, alerts/output.php will be used.</p>
      <pre>// output the entire stream  $alerts = $user-&gt;getAlerts();  $alerts-&gt;output();    // output one message at a time  foreach ($alerts as $alert) {   	$alert-&gt;output();  }    // output the stream using mytheme/alerts/custom.php  $alerts-&gt;output('custom');  </pre>
      <p>Inside the template, you not only have access to the alert message, but also to all of the attached data. You can use the attached data to display thumbnail images, do additional processing, or whatever the heck you want.</p>
      <p>To display the formatted alert message, use the formatMessage() method. This method will choose the appropriate message to display and do all of the token replacement:</p>
      <pre>&lt;? echo $alert-&gt;formatMessage(); ?&gt;  </pre>
      <p>You can also access the attached data using the following variables:</p>
      <pre>// reference the alert itself  $message = $alert-&gt;formatMessage();  $minutes_since = $alert-&gt;minutes;    // reference the acting user  $actor = $alert-&gt;author();  $actor-&gt;permalink();    // reference the target user  $targetUser-&gt;permalink();    // reference the target content  // this could be EITHER a piece of content  // or a comment  // check the TYPE field.  if ($targetContent-&gt;TYPE=='content')  {  	// do something with content  } else if ($targetContent-&gt;TYPE=='comment') {   	// do something with a comment  }  </pre>
      <h3>Function Reference</h3>
      <pre>// query the alert inbox  $alerts = $person-&gt;getAlerts($count);    // output a list of alerts:  $alerts-&gt;output($template,$header,$footer,$empty_message);    // output individual alerts:  foreach ($alerts as $alert) {   	$alert-&gt;output($template,$alternative_path_to_template);  }    // format an alert for display:  $message = $alert-&gt;formatActivity();    // send an alert  $user-&gt;sendAlert(  	$message,  	$actor,  	$targetContent,  	$ok_to_send_email  );    // load a single alert by ID  $alert = $POD-&gt;getAlert(5);    // query all alerts  $alerts = $POD-&gt;getAlerts(  	$conditions,  	$sort,  	$count,  	$offset  );    </pre>
      <h1><a href="http://peoplepods.net/readme/activity" title="Activity Streams">Activity Streams</a></h1>
      <p>PeoplePods has the ability to generate an <a href="http://en.wikipedia.org/wiki/Activity_stream">activity stream</a> similar to the "news feed" found on Facebook and other social networking sites. Activity streams describe recent activity on the site by members - containing such brilliant pieces of content as "Joe is now following Bob," and "Bob left a comment on Joe's photo."</p>
      <p>In order to make these messages as flexible and useful as possible, PeoplePods allows various pieces of data to be associated with the activity stream message. This data, such as a record of the person who performed the action, is used to display the activity message, and also allows the activity stream to be queried by any field within any of the related records - just like any stack object.</p>
      <p>In addition, messages in the activity stream can include dynamic references to the associated data such as automatically generated links, usernames and headlines. Messages may also a "You" version for the acting user, and another for the target user. So, one recorded action might be represented as "Joe is now following Bob" as well as "You are now following Bob" as well as "Joe is now following you," depending on who is looking at it.</p>
      <p>PeoplePods automatically publishes activity stream messages in 2 cases - when a member leaves a comment on another member's content, and when a member adds the "friend" flag to another member. Any additional messages must be added to <a href="http://peoplepods.net/readme/creating-new-pods">custom pods</a> or <a href="http://peoplepods.net/readme/registerMethod">custom methods</a> using the <a href="http://peoplepods.net/readme/all#publish">$user-&gt;publishActivity method()</a>.</p>
      <h3>Publishing Activity</h3>
      <pre>// publish an activity to the stream  $user-&gt;publishActivity(  	$message,  	$userMessage,  	$targetMessage,  	$targetUser,  	$targetContent,  	$resultContent,  	$gid  );  </pre>
      <p>The publishActivity method in its simplest form can be called with one parameter - a message to be added to the stream.</p>
      <pre>$user-&gt;publishActivity("Bob left a comment on Joe's photo.");  </pre>
      <p>However, in most cases, you will want to also pass a second message so that when a member sees a message about their own action, it is personalized. This can be achieved by passing in the second parameters, $userMessage.</p>
      <pre>$user-&gt;publishActivity(  	"Bob left a comment on Joe's photo",  	"You left a comment on Joe's photo."  );  </pre>
      <p>But why should Bob be the only member to receive the special first person treatment? Joe is a first person too! To personalize the message for the member who has been acted upon, we use the $targetMessage parameter.</p>
      <pre>$user-&gt;publishActivity(  	"Bob left a comment on Joe's photo",  	"You left a comment on Joe's photo.",  	"Bob left a comment on your photo."  );  </pre>
      <h3>Attaching Data</h3>
      <p>To really access the full power of the activity stream, we also need to pass along information about the activity. We know who did it, but we should also keep a record of what content or member the action was performed upon, and if any new content resulted from the activity. If we attach this data to the activity message when we publish it, we can reference values from the objects within the message using a simple tokens - this allows the messages to stay correct, even as the data changes.</p>
      <p>There are two types of token available - one that simply inserts a value, and one that inserts a value that is also a link to the object's permalink page.</p>
      <p>To insert a simple value, use a token in the form of: <em>@object.field</em>.</p>
      <p>To insert a link, use a token in the form of <em>{object.field}</em></p>
      <p>In our example, we're using all of the different types of attached content. The tokens for each type of attached content are explained below.</p>
      <p>Bob is the actor.</p>
      <p>Bob took an action on a photo. The photo is the targetContent.</p>
      <p>Since the photo is owned by Joe, he is the targetUser.</p>
      <p>And since the action resulted in a new comment, the comment is the resultContent.</p>
      <p>Using the token replacement system, the message becomes:</p>
      <pre>$message = '{actor.nick} left &lt;a href="@resultContent.permalink"&gt;a comment&lt;/a&gt;   on {targetUser.nick}'s &lt;a href="@targetContent.permalink"&gt;photo&lt;/a&gt;.';  </pre>
      <p>The tokens give you access to any field within the object, and either style of token can be used on any of the attached objects. Unless you need to construct a link with custom anchor text, we recommend you use the link tokens whenever possible:</p>
      <pre>// a message posted when someone posts something:  // members name will link to profile  // post headline will link to the post's permalink page  $message = '{actor.nick} just posted {targetContent.headline}';  </pre>
      <p>Taking all of this together, we now have a publishActivity() call that looks something like this:</p>
      <pre>$comment = $photo-&gt;addComment('This is great!');    $user-&gt;publishActivity(  	'{actor.nick} left &lt;a href="@resultContent.permalink"&gt;a comment&lt;/a&gt;   on {targetUser.nick}'s &lt;a href="@targetContent.permalink"&gt;photo&lt;/a&gt;.',  	'You left &lt;a href="@resultContent.permalink"&gt;a comment&lt;/a&gt;   on {targetUser.nick}'s &lt;a href="@targetContent.permalink"&gt;photo&lt;/a&gt;.',  	'{actor.nick} left &lt;a href="@resultContent.permalink"&gt;a comment&lt;/a&gt;   on &lt;a href="@targetContent.permalink"&gt;your photo&lt;/a&gt;.',  	$photo-&gt;author(),  	$photo,  	$comment  );  </pre>
      <h3>Repeating Actions</h3>
      <p>Your site might have certain actions that are repeatable. You don't want the same message appearing in the activity stream over and over again for the same action.</p>
      <p>To avoid this, you can pass a unique identifier for the message into the publishActivity method. If the unique identifier already exists in the activity stream, the new version will be ignored.</p>
      <p>This is useful for avoiding multiple "X is friends with Y" messages caused by members adding and removing friends.</p>
      <pre>$gid = $user-&gt;id . '-friends-with-' . $targetUser-&gt;id;	  $user-&gt;publishActivity(  	$message,  	$userMessage,  	$targetMessage,  	$targetUser,  	null,  	null,  	$gid  );  </pre>
      <h3>Querying the Activity Stream</h3>
      <pre>$activity_stream = $POD-&gt;getActivityStream(  	$conditions,  	$sort,  	$count,  	$offset);  </pre>
      <p>We can get a list of all activity on the site by calling the $POD-&gt;getActivityStream method with no parameters:</p>
      <pre>$activity = $POD-&gt;getActivityStream();  </pre>
      <p>Or we can get a list of activities performed by specific user:</p>
      <pre>$my_activity = $POD-&gt;getActivityStream(array('u.id'=&gt;$userid));  </pre>
      <p>Or we can get a list of activities targeted at specific user:</p>
      <pre>$my_activity = $POD-&gt;getActivityStream(array('tu.id'=&gt;$userid));  </pre>
      <p>Or about activity related to a specific piece of content:</p>
      <pre>$content_activity = $POD-&gt;getActivityStream(array('d.id'=&gt;$contentId));  </pre>
      <p>The getActivityStream method can also be called on a Person object. In this scenario, the activities returned include both activities performed by the person, and activities targeted at the person. In other words, everything that person did, and everything that anyone else did to that person.</p>
      <pre>$my_activity = $user-&gt;getActivityStream();  </pre>
      <p><a href="http://peoplepods.net/readme/stack-parameters#activity">Click here to view all of the options available when querying activity streams.</a></p>
      <h3>Displaying Activity Streams</h3>
      <p>Activity streams are output via the output() method, either on the activity stream itself, or on an individual activity message. Each message is output using a template from the activity/ folder. By default, activity/output.php will be used.</p>
      <pre>// output the entire stream  $activity_stream = $POD-&gt;getActivityStream();  $activity_stream-&gt;output();    // output one message at a time  foreach ($activity_stream as $action) {   	$action-&gt;output();  }    // output the stream using mytheme/activity/custom.php  $activity_stream-&gt;output('custom');  </pre>
      <p>Inside the template, you not only have access to the activity message, but also to all of the attached data. You can use the attached data to display thumbnail images, do additional processing, or whatever the heck you want.</p>
      <p>To display the formatted activity message, use the formatActivity() method. This method will choose the appropriate message to display and do all of the token replacement:</p>
      <pre>&lt;? echo $activity-&gt;formatActivity(); ?&gt;  </pre>
      <p>You can also access the attached data using the following variables:</p>
      <pre>// reference the activity itself  $message = $activity-&gt;formatActivity();  $minutes_since = $activity-&gt;minutes;    // reference the acting user  $actor = $activity-&gt;author();  $actor-&gt;permalink();    // reference the target user  $targetUser-&gt;permalink();    // reference the target content  // this could be EITHER a piece of content  // or a comment  // check the TYPE field.  if ($targetContent-&gt;TYPE=='content')  {  	// do something with content  } else if ($targetContent-&gt;TYPE=='comment') {   	// do something with a comment  }    // reference the result content  // this can also be either content or a comment  if ($resultContent-&gt;TYPE=='content')  {  	// do something with content  } else if ($resultContent-&gt;TYPE=='comment') {   	// do something with a comment  }  </pre>
      <h3>Function Reference</h3>
      <pre>// query the activity stream  $stream = $POD-&gt;getActivityStream($conditions,$sort,$count,$offset);    // output a stream:  $stream-&gt;output($template,$header,$footer,$empty_message);    // output individual activities:  foreach ($stream as $action) {   	$action-&gt;output($template,$alternative_path_to_template);  }    // format an activity for display:  $message = $activity-&gt;formatActivity();    // publish an action  $user-&gt;publishActivity(  	$message,  	$userMessage,  	$targetMessage,  	$targetUser,  	$targetContent,  	$resultContent,  	$gid  );      // get a personalized action stream of actions BY and UPON a user  $my_stream = $user-&gt;getActivityStream($count);  </pre>
      <h1><a href="http://peoplepods.net/readme/file-object" title="File Objects">File Objects</a></h1>
      <p>The file is a pretty simple object with only a few fields. Each file is linked to a <a href="http://peoplepods.net/readme/person-object">person object</a> representing the person who uploaded the file. In addition, the file may be linked to a <a href="http://peoplepods.net/readme/content-object">content object</a>.</p>
      <h3>Fields</h3>
      id contentId groupId userId file_name local_file original_name description extension mime_type changeDate date original_file resized thumbnail minutes tmp_name
      <table>
        <tbody>
          <tr>
            <td>the unique id of this file</td>
          </tr>
          <tr>
            <td>reference to the piece of content the file is attached to</td>
          </tr>
          <tr>
            <td>reference to a group the file is attached to</td>
          </tr>
          <tr>
            <td>reference to the file's uploader</td>
          </tr>
          <tr>
            <td>the descriptive name of this file. files uploaded via the edit profile script and default pods name the file 'img' because it is primarily used as an avatar.</td>
          </tr>
          <tr>
            <td>pointer to a copy of the original file stored by PeoplePods on the webserver</td>
          </tr>
          <tr>
            <td>the original filename of the file</td>
          </tr>
          <tr>
            <td>a description of the file, or a caption for an image</td>
          </tr>
          <tr>
            <td>3 character file extension</td>
          </tr>
          <tr>
            <td>the mime type of the file which is autodetected</td>
          </tr>
          <tr>
            <td>date this file was most recently changed</td>
          </tr>
          <tr>
            <td>date this file was uploaded</td>
          </tr>
          <tr>
            <td>url of uploaded original file</td>
          </tr>
          <tr>
            <td>url of resized image, as defined in the PeoplePods admin tool</td>
          </tr>
          <tr>
            <td>url of the thumbnail image, as defined in the PeoplePods admin tool</td>
          </tr>
          <tr></tr>
          <tr>
            <td>minutes since the file was uploaded</td>
          </tr>
          <tr>
            <td>temporary name of a file that has just been uploaded. this is found in the $_FILES array.</td>
          </tr>
        </tbody>
      </table>
      <h3>Relationships</h3>
      <p>You can access the files of the owner by using the <a href="http://peoplepods.net/readme/obj-creator">$file-&gt;creator()</a> function, which returns a person object.</p>
      <pre>// access person object member functions  echo "Uploaded by: ";  $file-&gt;owner()-&gt;permalink();    // output the owner using a special template  $file-&gt;owner()-&gt;output('avatar');  </pre>
      <p>You can also access the content that the file is attached to, using the handy <a href="http://peoplepods.net/readme/obj-parent">$file-&gt;parent()</a> function.</p>
      <pre>// access content values  $file-&gt;parent()-&gt;write('headline');    // is this file by the original poster?  if ($file-&gt;get('userId')==$file-&gt;parent()-&gt;get('userId')) {     // do something  }  </pre>
      <h3>Displaying Files</h3>
      <p>You can use the <a href="http://peoplepods.net/readme/file-output">$file-&gt;output()</a> function to output a file using its own templates, or you can access individual fields.</p>
      <p>Templates for file objects are found in the <em>files/</em> sub folder of your theme.</p>
      <pre>// output a file using the files/download.php template  $file-&gt;output('download');    // print an image link using the resized image  &lt;img src="&lt;? $file-&gt;write('resized'); ?&gt;" /&gt;    // print a link to the original file  &lt; a href="&lt;? $file-&gt;write('original_file'); ?&gt;" /&gt;  </pre>
      <p>You might also want to send the actual contents of a file instead of just making a link to it. To do this, use the <a href="http://peoplepods.net/readme/file-download">$file-&gt;download()</a> function.</p>
      <h3>Image Files</h3>
      <p>When an image is uploaded, PeoplePods will automatically resize it into 2 sizes: a resized version, and a thumbnail version. The specifics of how the image is resized can be set using the PeoplePods Command Center tool.</p>
      <p>You can tell whether or not a file is an image by using the <a href="http://peoplepods.net/readme/file-isimage">$file-&gt;isImage()</a> function.</p>
      <p>PeoplePods can also automatically generate new sizes of an image using the <a href="http://peoplepods.net/readme/file-src">$file-&gt;src()</a> function:</p>
      <pre>// generate a version that is 100 pixels wide  &lt;img src="&lt; $img-&gt;src(100); ?&gt;" /&gt;    // generate a version that is 50 pixels wide and cropped to a square  &lt;img src="&lt; $img-&gt;src(50,true); ?&gt;" /&gt;  </pre>
      <h3>Loading Files</h3>
      <p>The vast majority of the time, you'll probably be displaying the files that are attached to the piece of content you are viewing, or that were uploaded by a specific person. To do this, simply use the <a href="http://peoplepods.net/readme/content-files">$content-&gt;files()</a> and <a href="http://peoplepods.net/readme/person-files">$person-&gt;files()</a> functions, which returns a list of the files in chronological order.</p>
      <p>You can also load a specific file by it's id using the <a href="http://peoplepods.net/readme/pod-getfile">$POD-&gt;getFile()</a> function.</p>
      <p>If you need to query the file database on any of the file fields or fields in the related tables, use the <a href="http://peoplepods.net/readme/pod-getfiles">$POD-&gt;getFiles()</a> function.</p>
      <pre>// output the files from a piece of content  $content-&gt;files()-&gt;output();    // load a specific file (for editing, etc)  $file = $POD-&gt;getFile(array('id'=&gt;1));    // load all files from a user,   // regardless of whether or not it was attached to content  $files = $POD-&gt;getFiles(array('userId'=&gt;1));    // load all files from a user NOT attached to contnet  $files = $POD-&gt;getFiles(array('userId'=&gt;1,'contentId'=&gt;'null'));    // load all files from any piece of content in a specific group  $group_files = $POD-&gt;getFiles(array('d.groupId'=&gt;5));  </pre>
      <h3>Adding and Removing File</h3>
      <p>The best way to add a file is to use the <a href="http://peoplepods.net/readme/content-addfile">$content-&gt;addFile()</a> function or the <a href="http://peoplepods.net/readme/person-addfile">$person-&gt;addFile()</a> function, which handles all the nitty gritty details.</p>
      <p>To delete files, call <a href="http://peoplepods.net/readme/file-delete">$file-&gt;delete()</a>.</p>
      <h3>Relationships</h3>
      <p>Each file has a set of predefined relationships to people and other pieces of content within the site. These relationships are represented by cleverly named functions that return other objects or stacks of objects.</p>
      <ul>
        <li><a href="http://peoplepods.net/readme/obj-author">$File-&gt;author()</a> - returns a person object defined by $File's userId field.</li>
      </ul>
      <p>And don't forget, every content object inherits all the functions from the <a href="http://peoplepods.net/readme/obj">$Obj object</a>. These functions include:</p>
      <ul>
        <li><a href="http://peoplepods.net/readme/obj-get">$File-&gt;get()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-set">$File-&gt;set()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-write">$File-&gt;write()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-writeformatted">$File-&gt;writeFormatted()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-htmlspecialwrite">$File-&gt;htmlspecialwrite()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addmeta">$File-&gt;addMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removemeta">$File-&gt;removeMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-getmeta">$File-&gt;getMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addflag">$File-&gt;addFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removeflag">$File-&gt;removeFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-toggleflag">$File-&gt;toggleFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-hasflag">$File-&gt;hasFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addtag">$File-&gt;addTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removetag">$File-&gt;removeTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-hastag">$File-&gt;hasTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-tagsfromstring">$File-&gt;tagsFromString()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-tagsasstring">$File-&gt;tagsAsString()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-success">$File-&gt;success()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-error">$File-&gt;error()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-errorcode">$File-&gt;errorCode()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-asarray">$File-&gt;asArray()</a></li>
      </ul>
      <h1><a href="http://peoplepods.net/readme/file-src" title="$file->src()">$file-&gt;src()</a></h1>
      <pre>$src = $file-&gt;src($max_width,$square=false);  </pre>
      <p>This function will resize the image to $max_width pixels wide and return the URL for the new image. If $square is true, the image will also be cropped into a square.</p>
      <p>This function caches the resulting image, so it will only be generated once.</p>
      <pre>// get a 100 pixel wide image  $src = $image-&gt;src(100);    // get a 50 pixel square image  $src = $image-&gt;src(50,true);  </pre>
      <p>Note: If the image is smaller than $max_width, no resizing will occur.</p>
      <h1><a href="http://peoplepods.net/readme/file-download" title="$file->download()">$file-&gt;download()</a></h1>
      <pre>// download original file  $file-&gt;download();    // download resized image file  $file-&gt;download('resized');    // download thumbnail image file  $file-&gt;download('thumbnail');  </pre>
      <p>Cause the contents of the file to be sent to the browser, complete with mime-type headers. The file will download with the original uploaded file's name.</p>
      <h1><a href="http://peoplepods.net/readme/file-isimage" title="$file->isImage()">$file-&gt;isImage()</a></h1>
      <p>Returns true if the file is an image file, false if it is any other kind of file.</p>
      <p>Image files include jpg, gif and png files.</p>
      <h1><a href="http://peoplepods.net/readme/obj" title="$Obj">$Obj</a></h1>
      <p>The Obj class is the base class for <a href="http://peoplepods.net/readme/person-object">Person Objects</a>, <a href="http://peoplepods.net/readme/content-object">Content Objects</a>, <a href="http://peoplepods.net/readme/group-object">Group Objects</a>, <a href="http://peoplepods.net/readme/comment-object">Comment Objects</a> and <a href="http://peoplepods.net/readme/file-object">File Objects</a>. It provides all the basic functionality like setting values, getting values, and writing values out for display.</p>
      <p>Thanks to the magic of object inheritance, all of the objects have access to these functions. We've defined <a href="http://peoplepods.net/readme/obj-write">$Obj-&gt;write()</a>, so it exists for every type of object!</p>
      <pre>$person-&gt;write('nick');  $content-&gt;write('headline');  $group-&gt;write('groupname');  $comment-&gt;write('comment');  $file-&gt;write('thumbnail');  </pre>
      <p>The Obj class also implements the <a href="http://peoplepods.net/readme/meta-fields">meta field</a> and <a href="http://peoplepods.net/readme/flags">flagging</a> functionality for people, content and groups. This functionality works the same everywhere:</p>
      <pre>// add an about_me field to $person  $person-&gt;addMeta('about_me','I am awesome');    // add an endDate to $content  $content-&gt;addMeta('endDate','2012-12-31');    // add a motto to $group  $group-&gt;addMeta('motto','Stay Hoopy');    // flag $person as a friend of the current user  $person-&gt;addFlag('friend',$POD-&gt;currentUser());    // flag $content as a favorite of the current user  $content-&gt;addFlag('favorite',$POD-&gt;currentUser());    // flag $group with a warn flag  $content-&gt;addFlag('warn',$POD-&gt;currentUser());  </pre>
      <p>You should never directly instantiate one of these! They don't do anything on their own. But paired with the subclasses, these puppies do all the heavy lifting. All of the SQL queries responsible for loading things from the database are located in this class. Obj knows how different objects relate to one another and can build the necessary links.</p>
      <h1><a href="http://peoplepods.net/readme/obj-addignorefields" title="$OBJ::addIgnoreFields()">$OBJ::addIgnoreFields()</a></h1>
      <p>addIgnoreFields is a class method that teaches PeoplePods how to handle fields that you <em>do not want stored</em> in the database - either as real fields, or as meta fields.</p>
      <p>This is very useful when one of your custom methods will regularly add temporary fields to the object, for use in templates or otherwise.</p>
      <p>This method should be called from within a methods.php file in a plugin pod. The method is called on the class itself, much like the <a href="http://peoplepods.net/readme/registermethod">registerMethod() function</a>.</p>
      <p>This function takes an array of fieldnames.</p>
      <pre>Content::addIgnoreFields(array('temp','counter','fake'));  </pre>
      <p>See also <a href="http://peoplepods.net/readme/obj-adddatabasefields">$Obj::addDatabaseFields()</a>.</p>
      <h1><a href="http://peoplepods.net/readme/obj-adddatabasefields" title="$Obj::addDatabaseFields()">$Obj::addDatabaseFields()</a></h1>
      <p>addDatabaseFields is a class method that teaches PeoplePods how to handle database fields that you've added to the schema (most likely via an <a href="http://peoplepods.net/readme/creating-new-pods#install">install function</a>).</p>
      <p>This method should be called from within a methods.php file in a plugin pod. The method is called on the class itself, much like the <a href="http://peoplepods.net/readme/registermethod">registerMethod() function</a>.</p>
      <p>This function takes an array of fieldnames. If a field requires extra attention when going in and out of the database, you may also specify select and insert helpers.</p>
      <pre>// simply define 2 new fields called "foo" and "bar" in the content object  Content::addDatabaseFields(array('foo','bar'));    // define an additional field on the person object  Person::addDatabaseFields(array('phone_number'));    // add a field that requires processing on select and insert  Content::addDatabaseFields(array(  	'zipcode'=&gt;array(  		'select'=&gt;'zipcodeSelectHelper',  		'insert'=&gt;'zipcodeInsertHelper'  	)  ));  </pre>
      <p>See also <a href="http://peoplepods.net/readme/obj-addignorefields">$Obj::addIgnoreFields()</a>.</p>
      <h1><a href="http://peoplepods.net/readme/obj-flagdate" title="$Obj->flagDate()">$Obj-&gt;flagDate()</a></h1>
      <pre>$date = $obj-&gt;flagDate($flag,$person);  </pre>
      <p>Returns a string representing the date that $flag was added to $obj by $person</p>
      <p>If the flag has NOT been added, returns false.</p>
      <h1><a href="http://peoplepods.net/readme/obj-creator" title="$Obj->creator()">$Obj-&gt;creator()</a></h1>
      <p>Works exactly the same as <a href="http://peoplepods.net/readme/obj-author">$Obj-&gt;author()</a>, but looks for a createdBy field instead of a userId field. If no createdBy field is found, userId is used.</p>
      <p>This is only useful when you change the userId after content has been created. You might do this in a scenario where you are "assigning" a piece of content to another user.</p>
      <p>In most cases, this will be the same as $Obj-&gt;author().</p>
      <h1><a href="http://peoplepods.net/readme/obj-author" title="$Obj->author()">$Obj-&gt;author()</a></h1>
      <p>Returns a <a href="http://peoplepods.net/readme/person-objects">person object</a> referencing the object's author.</p>
      <p>In the case of a <a href="http://peoplepods.net/readme/content-object">content object</a>, this will be the person referenced by userId - by default, the person who created the content</p>
      <p>In the case of a <a href="http://peoplepods.net/readme/comment-object">comment object</a>, this will be the person who left the comment.</p>
      <pre>// write out a link to the author's profile  $content-&gt;author()-&gt;permalink();    // access author's name  $name = $content-&gt;author()-&gt;get('nick');  </pre>
      <h1><a href="http://peoplepods.net/readme/obj-parent" title="$Obj->parent()">$Obj-&gt;parent()</a></h1>
      <p>Returns a <a href="http://peoplepods.net/readme/content-objects">content object</a> referencing the object's parent.</p>
      <p>In the case of a <a href="http://peoplepods.net/readme/content-object">content object</a>, this will return the content referenced by parentId.</p>
      <p>In the case of a <a href="http://peoplepods.net/readme/comment-object">comment object</a>, this will return the content referenced by contentId.</p>
      <pre>// access parent content  if ($content-&gt;parent()) {    echo "This is a child of: " . $content-&gt;parent()-&gt;write('headline');  }    // reference a comment's parent  $alert = $content-&gt;author()-&gt;get('nick') . ' left a comment on ' . $comment-&gt;parent()-&gt;get('headline');  </pre>
      <h1><a href="http://peoplepods.net/readme/obj-asarray" title="$Obj->asArray()">$Obj-&gt;asArray()</a></h1>
      <p>Returns all the fields in the object as an associative array. Handy for creating JSON nuggets!</p>
      <pre>$array = $content-&gt;asArray();  echo json_encode($array);  </pre>
      <p>Some of the objects have overridden this method to protect certain fields, such as the authSecret field in the Person object.</p>
      <h1><a href="http://peoplepods.net/readme/obj-error" title="$Obj->error()">$Obj-&gt;error()</a></h1>
      <p>Contains the last error message that occurred. Should be used alongside <a href="http://peoplepods.net/readme/obj-success">$Obj-&gt;success()</a>.</p>
      <h1><a href="http://peoplepods.net/readme/obj-success" title="$Obj->success()">$Obj-&gt;success()</a></h1>
      <p>Returns true if the last operation taken on $Obj was successful. Otherwise, returns false.</p>
      <pre>$content-&gt;save();  if ($content-&gt;success()) {    // do something  } else {    echo "Error! " . $content-&gt;error();  }  </pre>
      <h1><a href="http://peoplepods.net/readme/obj-hasflag" title="$Obj->hasFlag()">$Obj-&gt;hasFlag()</a></h1>
      <pre>$Obj-&gt;hasFlag($flag,$person);  </pre>
      <p>Has $person added flag $flag to $obj? Returns true if so, otherwise returns false.</p>
      <pre>// do not post comment if user is blocked  if ($POD-&gt;currentUser()-&gt;hasFlag('block',$content-&gt;author())) {    echo "You have been blocked!";  } else {    $content-&gt;addComment($comment);  }  </pre>
      <p>To check if ANYONE has added $flag, exclude the $person parameter:</p>
      <pre>if ($content-&gt;hasFlag('featured')) {     echo "Featured!";  }  </pre>
      <h1><a href="http://peoplepods.net/readme/obj-toggleflag" title="$Obj->toggleFlag()">$Obj-&gt;toggleFlag()</a></h1>
      <pre>$Obj-&gt;toggleFlag($flag,$person);  </pre>
      <p>Toggles the value of $person's flag $flag on $obj between true and false.</p>
      <p>If no value was set, sets $flag to true.</p>
      <p>If value was true, sets $flag to false.</p>
      <h1><a href="http://peoplepods.net/readme/obj-removeflag" title="$Obj->removeFlag()">$Obj-&gt;removeFlag()</a></h1>
      <pre>$Obj-&gt;removeFlag($flag,$person);  </pre>
      <p>Removes $person's flag $flag from $obj.</p>
      <p>To remove all copies of $flag, regardless of who they were added by, exclude the $person parameter:</p>
      <pre>// clear all featured flags from $obj  $obj-&gt;removeFlag('featured');  </pre>
      <h1><a href="http://peoplepods.net/readme/obj-addflag" title="$Obj->addFlag()">$Obj-&gt;addFlag()</a></h1>
      <pre>$Obj-&gt;addFlag($flag,$person,$value=true);  </pre>
      <p>Causes $person to add a flag named $flag to $Obj, with an optional value of $value. If no value is specified, it defaults to true.</p>
      <p>To be clear, $person is the person object who is adding the flag. This is important to remember when adding flags to other person objects. The VAST majority of the time, the second parameter should be <a href="http://peoplepods.net/readme/pod-currentuser">$POD-&gt;currentUser()</a></p>
      <p>Some examples:</p>
      <pre>  // flag a document as 'awesome'    $content-&gt;addFlag('awesome',$POD-&gt;currentUser());    // set a rating of 5 on a document  $content-&gt;addFlag('rating',$POD-&gt;currentUser(),5);    // set a 'block' flag on a person  $person-&gt;addFlag('block',$POD-&gt;currentUser());  </pre>
      <p>Once a flag has been added, it can be referenced in your <a href="http://peoplepods.net/readme/stack-parameters">stack parameters</a>:</p>
      <pre>  // load all content with the awesome flag  $awesome = $POD-&gt;getContents(array(    'flag.name'=&gt;'awesome'  ));    // load all content with a rating of 5  $top_rated = $POD-&gt;getContents(array(    'flag.name'=&gt;'rating',    'flag.value'=&gt;'5'  ));    // load all people with the block flag  $blocked = $POD-&gt;getPeople(array(    'flag.name'=&gt;'block'  ));  </pre>
      <p>At this point, you can only refer to one flag at a time in your stack parameters. In some future version of PeoplePods, this may change.</p>
      <p>Several flag names are reserved by PeoplePods for use in pre-defined stacks: <a href="http://peoplepods.net/readme/person-friends">friend</a>, <a href="http://peoplepods.net/readme/person-favorites">favorite</a>, <a href="http://peoplepods.net/readme/person-watched">watching</a>, and <a href="http://peoplepods.net/readme/content-vote">vote</a>. You can use any other flag name to define your own functionality.</p>
      <h1><a href="http://peoplepods.net/readme/obj-getmeta" title="$Obj->getMeta()">$Obj-&gt;getMeta()</a></h1>
      <p>Returns an associative array of all the meta fields that have been added to an object.</p>
      <pre>$meta = $content-&gt;getMeta();  foreach ($meta as $key=&gt;$value) {    echo "$key = $value";  }  </pre>
      <h1><a href="http://peoplepods.net/readme/obj-removemeta" title="$Obj->removeMeta()">$Obj-&gt;removeMeta()</a></h1>
      <pre>// $obj-&gt;removeMeta($field);  $person-&gt;removeMeta('about_me');  $content-&gt;removeMeta('endDate');  $group-&gt;removeMeta('mott');  </pre>
      <p>Removes the meta field named $field from the object. The field will be removed immediately from the database.</p>
      <h1><a href="http://peoplepods.net/readme/obj-addmeta" title="$Obj->addMeta()">$Obj-&gt;addMeta()</a></h1>
      <pre>// $Obj-&gt;addMeta($field,$value);  $person-&gt;addMeta('about_me','I live in Austin');  $content-&gt;addMeta('endDate','2012-12-31');  $group-&gt;addMeta('motto','Stay Classy');  </pre>
      <p>Add a meta field to the object named $field with the value $value. This new field will be saved to the database immediately if the object has already been saved, or upon first save.</p>
      <p>Most of the time, this function should not be called directly, as it is automatically called when necessary by the <a href="http://peoplepods.net/readme/obj-set">$obj-&gt;set()</a> function.</p>
      <p>However, to access some specialized functionality, you can call it directly. For example, if you want to strip $value of any HTML, an optional third parameter can be passed:</p>
      <pre>// value will be stripped of html  $person-&gt;addMeta('tagline','I am putting &lt;b&gt;bold tags!&lt;/b&gt;',true);   </pre>
      <p>Meta fields cannot contain blank strings or null values. Setting a meta field to a blank value will result in it being removed.</p>
      <p>There is ONE reserved meta field name: <a href="http://peoplepods.net/readme/adminuser">adminUser</a>. This field has a special meaning, and thus, you should not mess with it. Seriously!</p>
      <p>Once you've added a meta field, you can refer to it in your <a href="http://peoplepods.net/readme/stack-parameters">stack parameters</a> as if it were a native field:</p>
      <pre>$content-&gt;addMeta('transaction_status','active');    // get all content that has a meta field named  // transaction_status that is set to 'active'  $active_transactions = $POD-&gt;getContents(array(     'transaction_status'=&gt;'active'  ));  </pre>
      <p>You can also just look for the existence of a meta field:</p>
      <pre>// get content that has a sidebar field.  $content_with_sidebars = $POD-&gt;getContents(array(    'sidebar:!='=&gt;'null'  ));  </pre>
      <p>Read more about <a href="http://peoplepods.net/readme/meta-fields">Meta Fields</a>.</p>
      <h1><a href="http://peoplepods.net/readme/obj-htmlspecialwrite" title="$Obj->htmlspecialwrite()">$Obj-&gt;htmlspecialwrite()</a></h1>
      <pre>// $Obj-&gt;htmlspecialwrite($field);  $person-&gt;htmlspecialwrite('nick');  $content-&gt;htmlspecialwrite('headline');  $group-&gt;htmlspecialwrite('groupname');  </pre>
      <p>Writes out the value of $field after it has been run through <a href="http://us3.php.net/manual/en/function.htmlspecialchars.php">htmlspecialchars</a>. Especially useful for writing values into form fields!</p>
      <h1><a href="http://peoplepods.net/readme/obj-writeformatted" title="$Obj->writeFormatted()">$Obj-&gt;writeFormatted()</a></h1>
      <pre>// $Obj-&gt;writeFormatted($field);  $content-&gt;writeFormatted('body');  $group-&gt;writeFormatted('description');  $comment-&gt;writeFormatted('comment');  </pre>
      <p>Writes out an HTML formatted version of $field.</p>
      <p>Currently, this formatting includes:</p>
      <ul>
        <li>Converting URLs to links</li>
        <li>Converting double-newlines to p tags</li>
        <li>Converting single-newlines to br tags</li>
        <li>Wrapping the whole shebang in p tags.</li>
      </ul>
      <p>For example, the following code...</p>
      <pre>$body = "Hello!    Check out this link:  http://xoxco.com/    Bye!";  $content-&gt;set('body',$body);  $content-&gt;writeFormatted($body);  </pre>
      <p>...would output the following HTML:</p>
      <pre>  &lt;p&gt;Hello!&lt;/p&gt;    &lt;p&gt;Check out this link:&lt;br /&gt;        &lt;a href="http://xoxco.com/"&gt;http://xoxco.com&lt;/a&gt;&lt;/p&gt;    &lt;p&gt;Bye!&lt;/p&gt;  </pre>
      <p>See also: <a href="http://peoplepods.net/readme/obj-write">$Obj-&gt;write()</a> and <a href="http://peoplepods.net/readme/obj-htmlspecialwrite">$Obj-&gt;htmlspecialwrite()</a>.</p>
      <h1><a href="http://peoplepods.net/readme/obj-set" title="$Obj->set()">$Obj-&gt;set()</a></h1>
      <pre>// $Obj-&gt;set($field,$value);  $person-&gt;set('nick','Chester');  $content-&gt;set('headline','Hello World!');  $group-&gt;set('groupname','Fish Lovers');  $comment-&gt;set('comment','Shut up!');  $file-&gt;set('file_name','img');  </pre>
      <p>Set the value of $field to $value.</p>
      <p>You may set values for native fields - those that exist in the pre-defined list of fields present in the database schema - or for <a href="http://peoplepods.net/readme/meta-fields">meta fields</a> which can be created at any time.</p>
      <pre>// set a real field  $doc-&gt;set('headline','This is a test');    // set a meta field  $doc-&gt;set('clown_nose','red');  </pre>
      <p>You may specify that a value is NOT saved to the database by passing in an optional third parameter. Otherwise, values will be saved to the database upon calling the save() function.</p>
      <pre>// set a temporary field on a $person object    if ($person-&gt;get('id') == $POD-&gt;currentUser()-&gt;get('id')) {    $person-&gt;set('isCurrentUser','1',false);  }  </pre>
      <p>As of version 0.7, you no longer have to use the set method for basic content changes. You may now reference the field as if it was a native object attribute:</p>
      <pre>// set real fields  $content-&gt;headline = 'this is my headline';  $person-&gt;nick = 'chester';  $group-&gt;description = 'a group for cool kids';    // set meta fields  $content-&gt;endDate = '2012-12-31';  $person-&gt;aboutme = 'this is my bio';  </pre>
      <h1><a href="http://peoplepods.net/readme/obj-write" title="$Obj->write()">$Obj-&gt;write()</a></h1>
      <pre>// $Obj-&gt;write($field);  $person-&gt;write('nick');  $content-&gt;write('headline');  $group-&gt;write('groupname');  $comment-&gt;write('comment');  $file-&gt;write('thumbnail');  </pre>
      <p>Writes the raw value of $field to the client.</p>
      <p>Used primarily in <a href="http://peoplepods.net/readme/themes">templates</a> for including dynamic values.</p>
      <h1><a href="http://peoplepods.net/readme/comment-object" title="Comment Object">Comment Object</a></h1>
      <p>The comment object is a pretty simple object with only a few fields. Each comment is linked to a <a href="http://peoplepods.net/readme/person-object">person object</a> representing the author of the comment, and a <a href="http://peoplepods.net/readme/content-object">content object</a> representing the piece of content upon which the comment was left.</p>
      <h3>Fields</h3>
      id contentId profileId userId id comment date type permalink minutes
      <table>
        <tbody>
          <tr>
            <td>the unique id of this comment</td>
          </tr>
          <tr>
            <td>reference to the piece of content the comment is attached to</td>
          </tr>
          <tr>
            <td>reference to the person profile the comment is attached to</td>
          </tr>
          <tr>
            <td>reference to the comment's author</td>
          </tr>
          <tr>
            <td>the unique id of this comment</td>
          </tr>
          <tr>
            <td>the text of the comment</td>
          </tr>
          <tr>
            <td>timestamp of when the comment was posted</td>
          </tr>
          <tr>
            <td>short string, used to create multiple types of comment - ie review vs comment</td>
          </tr>
          <tr>
            <td>url for this comment</td>
          </tr>
          <tr>
            <td>minutes since the comment was posted</td>
          </tr>
        </tbody>
      </table>
      <h3>Relationships</h3>
      <p>You can access the author of the comment using the <a href="http://peoplepods.net/readme/obj-author">$comment-&gt;author()</a> function, which returns a person object.</p>
      <pre>// access person object member functions  echo "Comment by: ";  $comment-&gt;author()-&gt;permalink();    // output the author using a special template  $comment-&gt;author()-&gt;output('avatar');  </pre>
      <p>You can also access the content upon which the comment was left, using the handy <a href="http://peoplepods.net/readme/obj-parent">$comment-&gt;parent()</a> function.</p>
      <pre>// access content values  $comment-&gt;parent()-&gt;write('headline');    // is this comment by the original poster?  if ($comment-&gt;get('userId')==$comment-&gt;parent()-&gt;get('userId')) {     // do something  }  </pre>
      <h3>Loading Comments</h3>
      <p>The vast majority of the time, you'll probably be displaying the comments that are attached to the piece of content you are viewing. To do this, simply use the <a href="http://peoplepods.net/readme/content-comments%22">$content-&gt;comments()</a> function, which returns a list of the comments in chronological order.</p>
      <p>You can also load a specific comment by it's id using the <a href="http://peoplepods.net/readme/pod-getcomment">$POD-&gt;getComment()</a> function.</p>
      <p>If you need to query the comment database on any of the comment fields or fields in the related tables, use the <a href="http://peoplepods.net/readme/pod-getcomments">$POD-&gt;getComments()</a> function.</p>
      <pre>// output the comments from a piece of content  $content-&gt;comments()-&gt;output();    // load a specific comment (for editing, etc)  $comment = $POD-&gt;getComment(array('id'=&gt;1));    // load all comments from a user  $comments = $POD-&gt;getComments(array('userId'=&gt;1));    // load all comments from any piece of content in a specific group  $group_comments = $POD-&gt;getComments(array('d.groupId'=&gt;5));  </pre>
      <h3>Adding and Removing Commments</h3>
      <p>The best way to add a comment is to use the <a href="http://peoplepods.net/readme/content-addcomment">$content-&gt;addComment()</a> function, which handles all the nitty gritty details.</p>
      <p>To delete comments, call <a href="http://peoplepods.net/readme/comment-delete">$comment-&gt;delete()</a>.</p>
      <h3>Relationships</h3>
      <p>Each comment has a set of predefined relationships to people and other pieces of content within the site. These relationships are represented by cleverly named functions that return other objects or stacks of objects.</p>
      <ul>
        <li><a href="http://peoplepods.net/readme/obj-parent">$Comment-&gt;parent()</a> - returns either a content object or a person object defined by $comments contentId or profileId field.</li>
        <li><a href="http://peoplepods.net/readme/obj-author">$Comment-&gt;author()</a> - returns a person object defined by $Comment's userId field.</li>
      </ul>
      <p>And don't forget, every content object inherits all the functions from the <a href="http://peoplepods.net/readme/obj">$Obj object</a>. These functions include:</p>
      <ul>
        <li><a href="http://peoplepods.net/readme/obj-get">$Comment-&gt;get()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-set">$Comment-&gt;set()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-write">$Comment-&gt;write()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-writeformatted">$Comment-&gt;writeFormatted()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-htmlspecialwrite">$Comment-&gt;htmlspecialwrite()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addmeta">$Comment-&gt;addMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removemeta">$Comment-&gt;removeMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-getmeta">$Comment-&gt;getMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addflag">$Comment-&gt;addFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removeflag">$Comment-&gt;removeFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-toggleflag">$Comment-&gt;toggleFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-hasflag">$Comment-&gt;hasFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addtag">$Comment-&gt;addTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removetag">$Comment-&gt;removeTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-hastag">$Comment-&gt;hasTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-tagsfromstring">$Comment-&gt;tagsFromString()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-tagsasstring">$Comment-&gt;tagsAsString()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-success">$Comment-&gt;success()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-error">$Comment-&gt;error()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-errorcode">$Comment-&gt;errorCode()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-asarray">$Comment-&gt;asArray()</a></li>
      </ul>
      <h1><a href="http://peoplepods.net/readme/group-object" title="Group Object">Group Object</a></h1>
      <p>Groups can be used to organize people, content and files into logical clusters. Groups have members of varying roles, and each role has specific permissions.</p>
      <h3>Fields</h3>
      id groupname description stub type userId changeDate date minutes
      <table>
        <tbody>
          <tr>
            <td>the unique id of this group</td>
          </tr>
          <tr>
            <td>the name of the group</td>
          </tr>
          <tr>
            <td>a description of the group</td>
          </tr>
          <tr>
            <td>url friendly version of the groupname field</td>
          </tr>
          <tr>
            <td>"public" or "private"</td>
          </tr>
          <tr>
            <td>pointer to the person record of the person who created the group</td>
          </tr>
          <tr>
            <td>date this file was most recently changed</td>
          </tr>
          <tr>
            <td>date this file was uploaded</td>
          </tr>
          <tr>
            <td>minutes since the file was uploaded</td>
          </tr>
        </tbody>
      </table>
      <h3>Relationships</h3>
      <pre>	$members = $group-&gt;members();  	$content = $group-&gt;content();  	$files = $group-&gt;files();  	  	$group-&gt;addMember($user);  	$group-&gt;removeMember($user);  	$group-&gt;changeMemberType($user,'manager');  	$membership_type = $group-&gt;isMember($user):  		  	$group-&gt;addFile($filename,$file);  	  	$group-&gt;addContent($content);  	$group-&gt;removeContent($content);  </pre>
      <p>And don't forget, every group object inherits all the functions from the <a href="http://peoplepods.net/readme/obj">$Obj object</a>. These functions include:</p>
      <ul>
        <li><a href="http://peoplepods.net/readme/obj-get">$Group-&gt;get()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-set">$Group-&gt;set()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-write">$Group-&gt;write()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-writeformatted">$Group-&gt;writeFormatted()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-htmlspecialwrite">$Group-&gt;htmlspecialwrite()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addmeta">$Group-&gt;addMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removemeta">$Group-&gt;removeMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-getmeta">$Group-&gt;getMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addflag">$Group-&gt;addFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removeflag">$Group-&gt;removeFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-toggleflag">$Group-&gt;toggleFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-hasflag">$Group-&gt;hasFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addtag">$Group-&gt;addTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removetag">$Group-&gt;removeTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-hastag">$Group-&gt;hasTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-tagsfromstring">$Group-&gt;tagsFromString()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-tagsasstring">$Group-&gt;tagsAsString()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-success">$Group-&gt;success()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-error">$Group-&gt;error()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-errorcode">$Group-&gt;errorCode()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-asarray">$Group-&gt;asArray()</a></li>
      </ul>
      <h1><a href="http://peoplepods.net/readme/group-files" title="$Group->files()">$Group-&gt;files()</a></h1>
      <p>Returns a stack of <a href="http://peoplepods.net/readme/file-object">files</a> that have been uploaded and associated with $Group.</p>
      <p>Files of any type can be attached to Groups. Images are automatically resized to several sizes, as defined in the PeoplePods admin tool.</p>
      <p>You can pull this file out of the stack by using the <a href="http://peoplepods.net/readme/stack-contains">-&gt;contains()</a> function:</p>
      <pre>if ($img = $Group-&gt;files()-&gt;contains('file_name','img')) {    $img-&gt;write('thumbnail');  } else {    echo "No image";  }</pre>
      <p> </p>
      <h1><a href="http://peoplepods.net/readme/group-addfile" title="$Group->addFile()">$Group-&gt;addFile()</a></h1>
      <pre>$Group-&gt;addFile('img',$_FILES['img'],'optional caption goes here');  </pre>
      <p>Takes an uploaded file and attaches it to the group object. This function is designed to handle rows out of the $_FILES array which PHP automatically provides when a file has been uploaded via an HTTP POST.</p>
      <pre>// store all files that were uploaded  foreach ($_FILES as $file_name =&gt; $file) {   	$Group-&gt;addFile($file_name,$file);  	if (!$Group-&gt;success()) {   	  echo $Group-&gt;error();  	}  }  </pre>
      <p>Image files will be automatically resized upon upload.</p>
      <p> </p>
      <h1><a href="http://peoplepods.net/readme/content-object" title="Content Object">Content Object</a></h1>
      <p>PeoplePods stores all of the content it manages in Content Objects. These are generic storage containers that can be customized to contain any kind of content you desire.</p>
      <p>At the bare minimum, a piece of PeoplePods content consists of a headline and a content type. The headline field is a simple text field used as the display title of the content. The type field is also a text field: you can create as many types of content as you want by specifying different values for this field.</p>
      <p>Content object's also optional contains fields for body text, an extermal link, an editorial status field, and a privacy information field. These can be used together in any configuration.</p>
      <p>But the real power of the content object comes through using the <a href="http://peoplepods.net/about/meta-fields">Meta Field</a> functionality, which allows you to append any field you want to any content object. Using this ability, you can customize your content objects to include any and all information that you need to store.</p>
      <p>With the meta fields and the dynamic content typing, PeoplePods gives you very flexible access to your content. You should be able to query and display anything you can image with a few lines of code.</p>
      <p>Content Objects are stored in the <em>content</em> table in the database.</p>
      <p>Content Objects should always be created through the main $POD object using the <a href="http://peoplepods.net/readme/pod-getcontent">$POD-&gt;getContent()</a> or <a href="http://peoplepods.net/readme/pod-getcontents">$POD-&gt;getContents()</a> functions.</p>
      <h3>Fields</h3>
      id userId headline type body link status createdBy parentId groupId privacy date changeDate editDate commentDate flagDate yes_votes no_votes yes_percent no_percent stub permalink hidden
      <table>
        <tbody>
          <tr>
            <td>the unique identifier of this content record in the db</td>
          </tr>
          <tr>
            <td>the unique identifier of the "author" of this record. will in the vast majority of cases be the same as createdBy</td>
          </tr>
          <tr>
            <td>REQUIRED - title of this content</td>
          </tr>
          <tr>
            <td>REQUIRED - a short string that defines what type of content this is</td>
          </tr>
          <tr>
            <td>the body text of this content</td>
          </tr>
          <tr>
            <td>space to store an arbitrary URL</td>
          </tr>
          <tr>
            <td>Editorial status field. Defaults to 'new' but can be set to 'approved' or 'featured'</td>
          </tr>
          <tr>
            <td>the unique identifier of the person who created this record.</td>
          </tr>
          <tr>
            <td>the unique id of another piece of content considered to be the "parent" content, if any.</td>
          </tr>
          <tr>
            <td>the unique id of the group this content is a member of, if any.</td>
          </tr>
          <tr>
            <td>Describes the privacy setting of this piece of content. Defaults to public, indicating anyone can view this content. Can also be 'friends_only', 'group_only', or 'owner_only'</td>
          </tr>
          <tr>
            <td>date this content was created</td>
          </tr>
          <tr>
            <td>date this content was last modified in any way</td>
          </tr>
          <tr>
            <td>date the core values of this content were last upated</td>
          </tr>
          <tr>
            <td>date of the most recently added comment</td>
          </tr>
          <tr>
            <td>date of the most recent change to the status field.</td>
          </tr>
          <tr>
            <td>number of yes votes that have been registered to this content</td>
          </tr>
          <tr>
            <td>number of no votes that have been registered to this content</td>
          </tr>
          <tr>
            <td>percentage of total votes that are yes votes</td>
          </tr>
          <tr>
            <td>percentage of total votes that are no votes.</td>
          </tr>
          <tr>
            <td>URL friendly version of the headline which can also be used as a unique identifier for this post.</td>
          </tr>
          <tr>
            <td>URL to post's permalink page</td>
          </tr>
          <tr>
            <td>Default false. Set to true to hide a document from public view (as in non-destructive delete)</td>
          </tr>
        </tbody>
      </table>
      <h3>Examples</h3>
      <p>Create a simple piece of content with just the minimum info:</p>
      <pre>$content = $POD-&gt;getContent();  $content-&gt;set('headline','This is a new post!');  $content-&gt;set('type','post');  $content-&gt;save();  echo "Here is your new post:";  $content-&gt;permalink();  </pre>
      <p>Now, create a different kind of content with some extra fields:</p>
      <pre>$content = $POD-&gt;getContent();  $content-&gt;set('type','event'); // ad-hoc create a new content type   $content-&gt;set('headline','Chester's Birthday'); // event title  $content-&gt;set('body','Chester is having a birthday party!');  $content-&gt;save();  // create the record in the db so we can use meta fields.    $content-&gt;addMeta('startDate','2009-03-15'); // add a new field  $content-&gt;addMeta('endDate','2009-03-15'); // add a new field  $content-&gt;addMeta('please_bring','BEER!'); // add a new field    echo "Your new event has been created!  ";  $content-&gt;permalink();  echo "Start: " . $content-&gt;write('startDate');  echo "End: " . $content-&gt;write('endDate');  </pre>
      <p>We can query for content of any type...</p>
      <pre>$posts = $POD-&gt;getContents(array('type'=&gt;'post'));  $events = $POD-&gt;getContents(array('type'=&gt;'event'));  </pre>
      <p>Or, you could look for content that matches specific parameters.</p>
      <pre>// load all the posts the current user created  $my_posts = $POD-&gt;getContents(array(    'type'=&gt;'post',    'userId'=&gt;$POD-&gt;currentUser()-&gt;get('id')  ));      // load all the events where the start date is today  $today = date("Y-m-d");  $todays_events = $POD-&gt;getContents(array(    'type'=&gt;'event',    'm.name'=&gt;'startDate',    'm.value'=&gt;$today  ));  </pre>
      <h3>Relationships</h3>
      <p>Each piece of content has a set of predefined relationships to people and other pieces of content within the site. These relationships are represented by cleverly named functions that return other objects or stacks of objects.</p>
      <ul>
        <li><a href="http://peoplepods.net/readme/content-children">$Content-&gt;children()</a> - returns a stack of content objects whose parentId is set to $Content's id</li>
        <li><a href="http://peoplepods.net/readme/content-comments">$Content-&gt;comments()</a> - returns a stack of comments associated with this content.</li>
        <li><a href="http://peoplepods.net/readme/content-files">$Content-&gt;files()</a> - returns all the files associated with this content.</li>
        <li><a href="http://peoplepods.net/readme/content-tags">$Content-&gt;tags()</a> - returns a stack of all the tags asssigned to this content.</li>
        <li><a href="http://peoplepods.net/readme/content-group">$Content-&gt;group()</a> - returns a group object defined by $content's groupId field.</li>
        <li></li>
        <li><a href="http://peoplepods.net/readme/obj-parent">$Content-&gt;parent()</a> - returns a content object defined by $Content's parentId field.</li>
        <li><a href="http://peoplepods.net/readme/obj-author">$Content-&gt;author()</a> - returns a person object defined by $content's userId field.</li>
        <li><a href="http://peoplepods.net/readme/obj-creator">$Content-&gt;creator()</a> - returns a person defined by $content's createdBy field.</li>
      </ul>
      <p>And don't forget, every content object inherits all the functions from the <a href="http://peoplepods.net/readme/obj">$Obj object</a>. These functions include:</p>
      <ul>
        <li><a href="http://peoplepods.net/readme/obj-get">$Content-&gt;get()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-set">$Content-&gt;set()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-write">$Content-&gt;write()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-writeformatted">$Content-&gt;writeFormatted()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-htmlspecialwrite">$Content-&gt;htmlspecialwrite()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addmeta">$Content-&gt;addMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removemeta">$Content-&gt;removeMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-getmeta">$Content-&gt;getMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addflag">$Content-&gt;addFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removeflag">$Content-&gt;removeFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-toggleflag">$Content-&gt;toggleFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-hasflag">$Content-&gt;hasFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addtag">$Content-&gt;addTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removetag">$Content-&gt;removeTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-hastag">$Content-&gt;hasTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-tagsfromstring">$Content-&gt;tagsFromString()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-tagsasstring">$Content-&gt;tagsAsString()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-success">$Content-&gt;success()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-error">$Content-&gt;error()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-errorcode">$Content-&gt;errorCode()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-asarray">$Content-&gt;asArray()</a></li>
      </ul>
      <h1><a href="http://peoplepods.net/readme/content-addfile" title="$content->addFile()">$content-&gt;addFile()</a></h1>
      <pre>$content-&gt;addFile('img',$_FILES['img'],'optional caption goes here');  </pre>
      <p>Takes an uploaded file and attaches it to the piece of content. This function is designed to handle rows out of the $_FILES array which PHP automatically provides when a file has been uploaded via an HTTP POST.</p>
      <pre>// store all files that were uploaded  foreach ($_FILES as $file_name =&gt; $file) {   	$content-&gt;addFile($file_name,$file);  	if (!$content-&gt;success()) {   	  echo $content-&gt;error();  	}  }  </pre>
      <p>Image files will be automatically resized upon upload.</p>
      <h1><a href="http://peoplepods.net/readme/content-permalink" title="$Content->permalink()">$Content-&gt;permalink()</a></h1>
      <p>Prints a link to the piece of content's permalink page. By default, the text of the link will be the content's headline field, though this can be overridden by passing in a fieldname:</p>
      <pre>$content-&gt;permaink(); // print link with headline  $content-&gt;permalink('id'); // print link with id instead of headline  </pre>
      <p>You can also return the permalink as a string by passing in a second parameter:</p>
      <pre>$permalink = $content-&gt;permalink('headline',true);  </pre>
      <h1><a href="http://peoplepods.net/readme/content-unvote" title="$Content->unvote()">$Content-&gt;unvote()</a></h1>
      <p>Clears the vote of the current user.</p>
      <h1><a href="http://peoplepods.net/readme/content-vote" title="$Content->vote()">$Content-&gt;vote()</a></h1>
      <pre>$Content-&gt;vote('y');  $Content-&gt;vote('n');  </pre>
      <p>Sets the current user's vote on a piece of content. Vote can either be "Y" for yes or "N" for no.</p>
      <h1><a href="http://peoplepods.net/readme/content-changestatus" title="$Content->changeStatus()">$Content-&gt;changeStatus()</a></h1>
      <pre>$content-&gt;changeStatus('featured');  </pre>
      <p>Change the editorial status of a document. This bypasses the normal <a href="http://peoplepods.net/readme/content-iseditable">isEditable()</a> check. Calling this function also updates the flagDate field.</p>
      <p>Valid status values are: new, approved, featured, hidden</p>
      <p>You can then use the status field to load content of a given status: for example, loading only featured posts:</p>
      <pre>$featured_posts = $POD-&gt;getContents(array(    'status'=&gt;'featured',    'type'=&gt;'post'  ));  </pre>
      <p>This function is used primarily in the PeoplePods admin tool.</p>
      <h1><a href="http://peoplepods.net/readme/content-setgroup" title="$Content->setGroup()">$Content-&gt;setGroup()</a></h1>
      <pre>$content-&gt;setGroup(1);  </pre>
      <p>Sets the groupId of the content. This function bypasses the <a href="http://peoplepods.net/readme/content-iseditable">isEditable()</a> check, and instead defers to current user's relationship to the group. If the current user is not the owner of or a manager of the group specified, this function will fail.</p>
      <p>This function should only be used in the context of a group manager adding a piece of content to a group, as opposed to a group member adding their own content to a group.</p>
      <h1><a href="http://peoplepods.net/readme/content-group" title="$Content->group()">$Content-&gt;group()</a></h1>
      <p>Returns the <a href="http://peoplepods.net/readme/group-object">Group Object</a> defined by the $content's groupId.</p>
      <pre>if ($content-&gt;group()) {     echo "This content is part of:";    $content-&gt;group()-&gt;permalink();  }  </pre>
      <p>If you pass in a parameter, will return the value of that field as set in the group.</p>
      <pre>echo $content-&gt;group('groupname');  </pre>
      <h1><a href="http://peoplepods.net/readme/content-gotofirstunreadcomment" title="$Content->goToFirstUnreadComment()">$Content-&gt;goToFirstUnreadComment()</a></h1>
      <p>Finds the first unread comment, as defined by the current user's <a href="http://peoplepods.net/readme/person-watched">watch list</a>.</p>
      <p>This function is useful for creating a "new comments" dashboard:</p>
      <pre>foreach ($POD-&gt;currentUser()-&gt;watched() as $post) {    $post-&gt;write('headline');    $post-&gt;goToFirstUnreadComment();    echo "New comments:";    $post-&gt;comments()-&gt;output();  }  </pre>
      <h1><a href="http://peoplepods.net/readme/content-markcommentsasread" title="$Content->markCommentsAsRead()">$Content-&gt;markCommentsAsRead()</a></h1>
      <p>Marks all the current comments as read for the current user. This is essentially the same as calling $POD-&gt;currentUser()-&gt;addWatch($content);</p>
      <h1><a href="http://peoplepods.net/readme/content-addcomment" title="$Content->addComment()">$Content-&gt;addComment()</a></h1>
      <p>Add a new comment to this piece of content.</p>
      <p>The new comment will be owned by <a href="http://peoplepods.net/readme/pod-currentuser">$POD-&gt;currentUser()</a>.</p>
      <pre>$content-&gt;addComment('This content sucks!!');  </pre>
      <p>Of note, add comment causes <a href="http://peoplepods.net/readme/content-comments">$Content-&gt;comments()</a> to reload itself automatically, so the new comment will be present in the stack immediately.</p>
      <p>Comments can be assigned an arbitrary "type" field, though custom stack queries will have to be built to utilitize this field...</p>
      <pre>$content-&gt;addComment('This is great!','review');  $content-&gt;addComment('What is going on?','question');  </pre>
      <p>(To remove a comment, use <a href="http://peoplepods.net/readme/comment-delete">$Comment-&gt;delete()</a>)</p>
      <h1><a href="http://peoplepods.net/readme/content-delete" title="$Content->delete()">$Content-&gt;delete()</a></h1>
      <p>Deletes the content record, all comments, tags, flags, and files.</p>
      <p>Any child documents of the deleted record will have their parent record set to null.</p>
      <p>NOTE that this function currently does a hard, permanent delete on this data. In some future version of PeoplePods, this will be changed to do a soft-delete, leaving the data behind, but marking it as inactive.</p>
      <p>By default, this function pays attention to the <a href="http://peoplepods.net/readme/content-iseditable">isEditable()</a> function. However, you can override this by passing in a true variable. This should only be done in administrative settings.</p>
      <pre>$content-&gt;delete(true); // override isEditable.  </pre>
      <h1><a href="http://peoplepods.net/readme/content-save" title="$Content->save()">$Content-&gt;save()</a></h1>
      <p>Saves the content object to the database.</p>
      <p>Before saving a new content record, make sure that the headline field and the type field are set. If these fields are not set, the save will fail.</p>
      <pre>$content = $POD-&gt;getContent();  $content-&gt;set('headline','This is the title');  $content-&gt;set('type','post');  $content-&gt;save();  </pre>
      <p>If no userId is specified, the userId field will be set to <a href="http://peoplepods.net/readme/readme/pod-currentuser">$POD-&gt;currentUser()</a>.</p>
      <p>By default, the headline, link and type fields are stripped of any HTML tags. The body field, however, is left unmolested. If you would like to filter the body tag of any potentially malicious tags, pass in true as a parameter. This will cause the body field to be stripped of all tags NOT INCLUDING basic formatting tags like p, br, a, i, u, b, strike and img.</p>
      <pre>$content = $POD-&gt;getContent();  $content-&gt;set('headline','My body has bad code in it!');  $content-&gt;set('type','example');  $content-&gt;set('body','');  $content-&gt;save(true);  </pre>
      <p>Once a piece of content has been saved, the id, stub and permalink fields will be available, as well as all of the normal relationship functions (children, parent, etc.) Meta and Flag functions are also available after saving.</p>
      <p>There are two alternative functions that also save content to the database. These are <a href="http://peoplepods.net/readme/content-changestatus">$Content-&gt;changeStatus()</a> and <a href="http://peoplepods.net/readme/content-setgroup">$Content-&gt;setGroup()</a>. These functions bypass the <a href="http://peoplepods.net/readme/content-iseditable">isEditable()</a>.</p>
      <h1><a href="http://peoplepods.net/readme/content-iseditable" title="$Content->isEditable()">$Content-&gt;isEditable()</a></h1>
      <p>Returns true if this piece of content is editable by the current user. This function takes into account the authentication status of the currentUser, and also looks for the <a href="http://peoplepods.net/readme/adminuser">adminUser meta field</a>.</p>
      <p>If isEditable() is false, any call to <a href="http://peoplepods.net/readme/content-save">$Content-&gt;save()</a> will error.</p>
      <h1><a href="http://peoplepods.net/readme/content-output" title="$Content->output()">$Content-&gt;output()</a></h1>
      <p>Outputs the current content using a template.</p>
      <p>By default, this function will use the <em>content/output.php</em> file in the current theme. This can be overridden by passing in a template name:</p>
      <pre>// output the content using the default template 'output'  $content-&gt;output();    // output the person using an alternative template:  $content-&gt;output('short');    // output the content using a template from outside of the theme  // this will use /var/www/otherthemes/custom.php   // unless custom.php is found in current theme.  $content-&gt;output('custom','/var/www/otherthemes/');    </pre>
      <p>Within the template, you can access the content's information using the <em>$content</em> variable, and the POD using the <em>$POD</em> variable. So, you can do something like this:</p>
      <pre>// load some content and display it  $c = $POD-&gt;getContent(array('stub'=&gt;'foo'));  $c-&gt;output('tiny');  </pre>
      <p>And then, in <em>content/tiny.php</em> in your theme directory:</p>
      <pre>// inside the content/tiny.php template, we write out fields:  &lt; $content-&gt;write('headline'); ?&gt;  </pre>
      <p>Read more about <a href="http://peoplepods.net/readme/themes">how templates and themes work in PeoplePods.</a></p>
      <h1><a href="http://peoplepods.net/readme/content-files" title="$Content->files()">$Content-&gt;files()</a></h1>
      <p>Returns a stack of <a href="http://peoplepods.net/readme/file-object">files</a> that have been uploaded and associated with $Content.</p>
      <p>Files of any type can be attached to pieces of content. Images are automatically resized to several sizes, as defined in the PeoplePods admin tool.</p>
      <p>You can pull this file out of the stack by using the <a href="http://peoplepods.net/readme/stack-contains">-contains()</a> function:</p>
      <pre>if ($img = $Content-&gt;files()-&gt;contains('file_name','img')) {    $img-&gt;write('thumbnail');  } else {    echo "No image";  }  </pre>
      <h1><a href="http://peoplepods.net/readme/person-object" title="Person Object">Person Object</a></h1>
      <p>Members of your site are represented within PeoplePods as Person Objects. Person Objects provide functionality to support all the basic actions a member can take like adding and managing friends, adding and managing favorites, and updating profile information.</p>
      <p>Person Objects are stored in the <em>users</em> table in the database.</p>
      <p>Person Objects should always be created through the main $POD object using the <a href="http://peoplepods.net/readme/pod-getperson">$POD-&gt;getPerson()</a> or <a href="http://peoplepods.net/readme/pod-getpeople">$POD-&gt;getPeople()</a> functions.</p>
      <h3>Fields</h3>
      id nick fullname stub email authSecret passwordResetCode lastVisit date memberSince verificationKey invitedBy permalink password invite_code
      <table>
        <tbody>
          <tr>
            <td>the unique identifier of this person's record in the db</td>
          </tr>
          <tr>
            <td>the person's display name.</td>
          </tr>
          <tr>
            <td>the person's full name.</td>
          </tr>
          <tr>
            <td>the person's tokenized, url friendly nick.</td>
          </tr>
          <tr>
            <td>the person's email address. this is also used as the username.</td>
          </tr>
          <tr>
            <td>a unique encrypted string that identifies the user. Should never be modified! Use the password field to change the password.</td>
          </tr>
          <tr>
            <td>Semi-random encrypted string. Used to find a person who needs to have their password reset. This should be null unless a password reset has been initiated by the user.</td>
          </tr>
          <tr>
            <td>Datetime of the last time this person hit the site.</td>
          </tr>
          <tr>
            <td>Datetime of the last modification to this person record.</td>
          </tr>
          <tr>
            <td>Datetime of the member's join date.</td>
          </tr>
          <tr>
            <td>If this field is null, the person has verified their email. Otherwise, it will contain a semi-random encrypted string. Should not be modified! Use <a href="http://peoplepods.net/readme/person-isverified">$Person-&gt;isVerified()</a> and <a href="http://peoplepods.net/readme/person-verify">$Person-&gt;verify()</a>.</td>
          </tr>
          <tr>
            <td>user id of the member whose invite was used to join the site.</td>
          </tr>
          <tr>
            <td>URL to the peron's onsite profile.</td>
          </tr>
          <tr>
            <td>Set only when you want to change a users password. Note: Setting this variable will cause the authSecret to change, so the pp_auth cookie must be reset to match this new value.</td>
          </tr>
          <tr>
            <td>An invite code that matches a row in the invites table. This should only be specified for new users who have specified an invite code, duh!</td>
          </tr>
        </tbody>
      </table>
      <h3>Examples:</h3>
      <pre>// write a person's nickname  $person-&gt;write('nick');    // change a person's nickname  $person-&gt;set('nick','Chester');    // change a person's password  $person-&gt;set('password','12345');    // save changes to the db.  $person-&gt;save();  </pre>
      <h3>Relationships</h3>
      <p>Each person has a set of predefined relationships to other people and content within the site. These relationships are represented by cleverly named functions that return stacks that can be handled like any other stack.</p>
      <p><a href="http://peoplepods.net/readme/person-friends">$Person-&gt;friends()</a> - Returns a stack of people who the current person has added as a friend.</p>
      <p><a href="http://peoplepods.net/readme/person-followers">$Person-&gt;followers()</a> - Returns a stack of people who have marked the current person as a friend.</p>
      <p><a href="http://peoplepods.net/readme/person-favorites">$Person-&gt;favorites()</a> - Returns a stack of content objects that the current person has added as favorite.</p>
      <p><a href="http://peoplepods.net/readme/person-watched">$Person-&gt;watched()</a> - Returns a stack of content objects that the current person is watching.</p>
      <p><a href="http://peoplepods.net/readme/person-files">$Person-&gt;files()</a> - Returns a stack of file objects that the current person has uploaded.</p>
      <h3>Examples:</h3>
      <pre>// display a list of the person's friends  if ($Person-&gt;friends()-&gt;count() &gt; 0) {      $Person-&gt;friends()-&gt;ouput('short');  }    // display a person's follower count  echo $Person-&gt;followers()-&gt;totalCount();    // Find a person's profile image  if ($img = $Person-&gt;files()-&gt;contains('file_name','img')) {      $img-&gt;write('thumbnail');  } else {      echo "/img/no_icon.png";  }    // Show the first page of a person's favorites  while ($docs = $Person-&gt;favorites()) {      $docs-&gt;output('short');  }  </pre>
      <p>Every person object inherits all the code i/o functions from it's parent object. These functions include:</p>
      <ul>
        <li><a href="http://peoplepods.net/readme/obj-get">$Person-&gt;get()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-set">$Person-&gt;set()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-write">$Person-&gt;write()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-writeformatted">$Person-&gt;writeFormatted()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-htmlspecialwrite">$Person-&gt;htmlspecialwrite()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addmeta">$Person-&gt;addMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removemeta">$Person-&gt;removeMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-getmeta">$Person-&gt;getMeta()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addflag">$Person-&gt;addFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removeflag">$Person-&gt;removeFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-toggleflag">$Person-&gt;toggleFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-hasflag">$Person-&gt;hasFlag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-addtag">$Person-&gt;addTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-removetag">$Person-&gt;removeTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-hastag">$Person-&gt;hasTag()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-tagsfromstring">$Person-&gt;tagsFromString()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-tagsasstring">$Person-&gt;tagsAsString()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-success">$Person-&gt;success()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-error">$Person-&gt;error()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-errorcode">$Person-&gt;errorCode()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-asarray">$Person-&gt;asArray()</a></li>
        <li><a href="http://peoplepods.net/readme/obj-get">$Person-&gt;get()</a></li>
      </ul>
      <h1><a href="http://peoplepods.net/readme/person-comments" title="$Person->comments()">$Person-&gt;comments()</a></h1>
      <p>Returns a stack of <a href="http://peoplepods.net/readme/comment-object">comments</a> that have been uploaded and associated with that $Person.</p>
      <p>For example, the following code displays the first page of comments:</p>
      <pre>foreach($Person-&gt;comments() as $comment) {     $comment-&gt;output();  }  </pre>
      <p>To add a new comment to a piece of content, use the <a href="http://peoplepods.net/readme/content-addcomment">$Person-&gt;addComment()</a> function.</p>
      <p> </p>
      <h1><a href="http://peoplepods.net/readme/person-addcomment" title="$Person->addComment()">$Person-&gt;addComment()</a></h1>
      <p>Add a new comment to this piece of content.</p>
      <p>The new comment will be owned by <a href="http://peoplepods.net/readme/pod-currentuser">$POD-&gt;currentUser()</a>.</p>
      <pre>$Person-&gt;addComment('This content sucks!!');  </pre>
      <p>Of note, add comment causes <a href="http://peoplepods.net/readme/content-comments">$Person-&gt;comments()</a> to reload itself automatically, so the new comment will be present in the stack immediately.</p>
      <p>Comments can be assigned an arbitrary "type" field, though custom stack queries will have to be built to utilitize this field...</p>
      <pre>$Person-&gt;addComment('This is great!','review');  $Person-&gt;addComment('What is going on?','question');  </pre>
      <p>(To remove a comment, use <a href="http://peoplepods.net/readme/comment-delete">$Comment-&gt;delete()</a>)</p>
      <p> </p>
      <h1><a href="http://peoplepods.net/readme/person-isfriendswith" title="$Person->isFriendsWith()">$Person-&gt;isFriendsWith()</a></h1>
      <pre>$boolean = $Person-&gt;isFriendsWith($friend);  </pre>
      <p>Returns true if $Person has added $friend as a friend.</p>
      <h1><a href="http://peoplepods.net/readme/person-removefriend" title="$Person->removeFriend()">$Person-&gt;removeFriend()</a></h1>
      <pre>$Person-&gt;removeFriend($crappy_friend);  </pre>
      <p>Removes $crappy_friend from $Person's friend list.</p>
      <h1><a href="http://peoplepods.net/readme/person-addfriend" title="$Person->addFriend()">$Person-&gt;addFriend()</a></h1>
      <pre>$Person-&gt;addFriend($new_friend,$send_email = true);  </pre>
      <p>Add $new_friend to $Person's friend list. If specified in the PeoplePods library options, an email is sent to $new_friend informing them of the new relationship. This option may be overridden by passing a value to $send_email.</p>
      <p>Check $Person-&gt;success() to see if the friend was successfully added.</p>
      <h1><a href="http://peoplepods.net/readme/person-iswatched" title="$Person->isWatched()">$Person-&gt;isWatched()</a></h1>
      <pre>$isWatched = $Person-&gt;isWatched($content);  </pre>
      <p>Returns true if $content is on $Person's watch list. Otherwise, returns false.</p>
      <h1><a href="http://peoplepods.net/readme/person-togglewatch" title="$Person->toggleWatch()">$Person-&gt;toggleWatch()</a></h1>
      <pre>$isWatched = $Person-&gt;toggleWatch($content);  </pre>
      <p>Toggles the watched status of $content. That is, if $content is already on the watch list, remove it. If the content is not already on the watch list, add it.</p>
      <p>Returns true if the content is now a favorite, or false is it is not.</p>
      <h1><a href="http://peoplepods.net/readme/person-removewatch" title="$Person->removeWatch()">$Person-&gt;removeWatch()</a></h1>
      <pre>$content = $Person-&gt;removeWatch($content);  </pre>
      <p>Removes $content from $Person's watch list. Returns the same $content on success or null on error.</p>
      <h1><a href="http://peoplepods.net/readme/person-addwatch" title="$Person->addWatch()">$Person-&gt;addWatch()</a></h1>
      <pre>$content = $Person-&gt;addWatch($content);  </pre>
      <p>Adds $content to $Person's watch list. Once it has been added, it should be present in $Person-&gt;watched() Returns the same $content on success or null on error.</p>
      <p>This is essentially a wrapper to <a href="http://peoplepods.net/readme/obj-addflag">$Person-&gt;addFlag()</a>, with the addition of a quick query to find the most recently viewed comment and set that as the flag's value.</p>
      <h1><a href="http://peoplepods.net/readme/person-togglefavorite" title="$Person->toggleFavorite()">$Person-&gt;toggleFavorite()</a></h1>
      <pre>$isFavorite = $Person-&gt;toggleFavorite($content);  </pre>
      <p>Toggles the favorite status of $content. That is, if $content is already on the favorites list, remove it. If the content is not already on the favorites list, add it.</p>
      <p>Returns true if the content is now a favorite, or false is it is not.</p>
      <h1><a href="http://peoplepods.net/readme/person-isfavorite" title="$Person->isFavorite()">$Person-&gt;isFavorite()</a></h1>
      <pre>$isFavorite = $Person-&gt;isFavorite($content);  </pre>
      <p>Returns true if $content is on $Person's favorite list. Otherwise, returns false.</p>
      <p>Note that this is just a wrapper to <a href="http://peoplepods.net/readme/obj-hasflag">$Person-&gt;hasFlag()</a>.</p>
      <h1><a href="http://peoplepods.net/readme/person-removefavorite" title="$Person->removeFavorite()">$Person-&gt;removeFavorite()</a></h1>
      <pre>$Person-&gt;removeFavorite($content);  </pre>
      <p>Removes $content from $Person's favorite list. Returns the same $content on success or null on error.</p>
      <p>Note that this is just a wrapper for <a href="http://peoplepods.net/readme/obj-removeflag">$Person-&gt;removeFlag()</a>.</p>
      <h1><a href="http://peoplepods.net/readme/person-addfavorite" title="$Person->addFavorite()">$Person-&gt;addFavorite()</a></h1>
      <pre>$Person-&gt;addFavorite($content)  </pre>
      <p>Adds $content to $Person's favorite list. Once it has been added, it should be present in $Person-&gt;favorites() Returns the same $content on success or null on error.</p>
      <p>Note that this is simply a wrapper to <a href="http://peoplepods.net/readme/obj-addflag">$Person-&gt;addFlag()</a>.</p>
      <h1><a href="http://peoplepods.net/readme/person-verify" title="$Person->verify()">$Person-&gt;verify()</a></h1>
      <pre>$Person-&gt;verify($verification_code);  </pre>
      <p>This function is used to verify that a person's email address is correct. Upon joining the site, each person receives an email with a unique verification code. This code can be entered into the site, and using this function, the person becomes verified.</p>
      <p>Check <a href="http://peoplepods.net/readme/obj-success">$Person-&gt;success()</a> to see if the person was successfully verified.</p>
      <pre>// verify the current user with a code passed in from the web  if ($POD-&gt;isAuthenticated()) {      $Person = $POD-&gt;currentUser();      $code = $_GET['verification_code'];      $Person-&gt;verify($code);      if ($Person-&gt;success()) {          echo "You are verified!";      } else {          echo "Your verification failed!";          echo $Person-&gt;error();      }  } else {      echo "Before you verify, you have to login!";  }  </pre>
      <h1><a href="http://peoplepods.net/readme/person-isverified" title="$Person->isVerified()">$Person-&gt;isVerified()</a></h1>
      <p>Returns true if the person has verified their email address, otherwise returns false.</p>
      <h1><a href="http://peoplepods.net/readme/person-sendpasswordreset" title="$Person->sendPasswordReset()">$Person-&gt;sendPasswordReset()</a></h1>
      <p>Sends the password reset email as defined in the emails template sub folder. This should only be sent after a user has requested their password be reset, and the passwordResetCode has been set.</p>
      <p>Note, the passwordResetCode is NOT set automatically!</p>
      <h1><a href="http://peoplepods.net/readme/person-sendmessage" title="$Person->sendMessage()">$Person-&gt;sendMessage()</a></h1>
      <pre>$Person-&gt;sendMessage($message);  </pre>
      <p>Send a person-to-person message to $Person. $message is the text of the message to be sent. The message is sent by <a href="http://peoplepods.net/readme/pod-currentuser">$POD-&gt;currentUser()</a>.</p>
      <p>Learn more about <a href="http://peoplepods.net/readme/messaging">how PeoplePods handles on-site messages.</a></p>
      <h1><a href="http://peoplepods.net/readme/person-welcomeemail" title="$Person->welcomeEmail()">$Person-&gt;welcomeEmail()</a></h1>
      <p>Send a welcome email to $Person. This happens automatically when the user is person is created, unless that option has been overridden.</p>
      <p>This function uses the "welcome" template in the emails template sub folder. Of note: if the user has a verificationKey set, this template should include a verification link with that key. If the field is blank, no link is necessary.</p>
      <h1><a href="http://peoplepods.net/readme/person-sendinvite" title="$Person->sendInvite()">$Person-&gt;sendInvite()</a></h1>
      <pre>$Person-&gt;sendInvite($to,$message,$groupId=null);  </pre>
      <p>Send an email invitation from $Person to the email address in $to. The invitation will include the $message as a message from $Person. If $groupId is specified, the invitation will include an invitation to join that group.</p>
      <p>In addition to sending an email, this creates an invite record and invite code that gets stored in the invites table. This invite code can then be specified when creating a new user. This will result in the new user being added automatically to $Person's friend list, and vice-versa. If a $groupId is specified, the new user will be added as a member.</p>
      <h1><a href="http://peoplepods.net/readme/person-sendemail" title="$Person->sendEmail()">$Person-&gt;sendEmail()</a></h1>
      <pre>$Person-&gt;sendEmail($email_template,$vars);  </pre>
      <p>Send an email to $Person using the $email_template template. $vars should contain any PeoplePods objects you want to refer to in the email - you can pass a document, a group, a text message, or an invite code.</p>
      <p>By default, the message is sent to $Person. However, passing in a "to" address will override this.</p>
      <pre>// send a 'share this' email to someone   $friend = "chester@xoxco.com";  $Person-&gt;sendEmail('share_this',array(    'document'=&gt;$document,    'to'=&gt;$friend  ));    // send a 'new comment' email to $Person  $Person-&gt;sendEmail('new_comment',array('document'=&gt;$document));  </pre>
      <p>The email's content and subject are set inside the template file, located in the theme directory under the <em>emails</em> folder.</p>
      <h1><a href="http://peoplepods.net/readme/peoplepods-object" title="PeoplePods Objects">PeoplePods Objects</a></h1>
      <p>PeoplePods is an object-oriented framework - all one must do to access the entire power of PeoplePods is include the PeoplePods library file into a PHP script and boot up a PeoplePod object.</p>
      <pre>require_once("peoplepods/PeoplePods.php");  $POD = new PeoplePod($params);  </pre>
      <p>In almost all cases, the constructor will take one or more parameters. These parameters tell PeoplePods about the identity of the current "acting" user and what sort of permission is required to view the content offered by $POD.</p>
      <table border="1" bordercolor="#000000" cellpadding="3" cellspacing="0">
        <tbody>
          <tr>
            <td valign="top"><em>authSecret</em></td>
            <td>An encrypted string that identifies a single user in the database. Typically, this will be kept in a cookie named 'pp_auth'<br>
              <br>
              If a valid authSecret is passed in, $POD-&gt;isAuthenticated() will return true, and $POD-&gt;currentUser() will return a Person Object that represents, you may have guessed, the current user.</td>
          </tr>
          <tr>
            <td valign="top"><em>lockdown</em></td>
            <td>Tells PeoplePods who can access the page. The authentication status of the current user, should there be one, will be evaluated against the specified test. If the test fails, the user will be redirected to the appropriate page. Valid values for this parameter are:<br>
              <br>
              <strong>login</strong> - a valid user was passed into the authSecret parameter.<br>
              <br>
              <strong>verified - </strong>a valid user was passed into the authSecret parameter, and that user has verified the email address attached to the account.<br>
              <strong><br>
                adminUser</strong> - a valid user was passed into the authSecret parameter, and the adminUser flag has been added to the account.<br></td>
          </tr>
          <tr>
            <td valign="top"><em>debug</em><br></td>
            <td>Tells PeoplePods to turn on debug messaging. Debug messages appear in the normal web error_log. Valid values are:<br>
              <br>
              0 - no debug messages<br>
              <br>
              1 - trace debug messages. functions will announce what they are doing.<br>
              <br>
              2 - sql debug messages. all sql statements that are executed will be logged.<br></td>
          </tr>
        </tbody>
      </table>
      <h3>Errors</h3>
      <p>If an error occurs during the creation of a PeoplePods object, $POD-&gt;success() will return false. The last error message can be found by accessing $POD-&gt;error(). An error code may also be generated, which can be found by accessing $POD-&gt;errorCode().</p>
      <p>101 - unable to connect to db</p>
      <p>100 - PeoplePods can't find its configuration</p>
      <p>These errors represent a catastrophic failure of PeoplePods to start, and the resulting $POD object will be essentially non-functioning.</p>
      <h3>Examples:</h3>
      <p>To create an authenticated PeoplePods object, include the following code. Note that if the cookie is not set, the PeoplePod will be unauthenticated, but will otherwise be completely functional. This represent the "logged out" state.</p>
      <pre>require_once("peoplepods/PeoplePods.php");  $POD = new PeoplePod(array(   'authSecret'=&gt;$_COOKIE['pp_auth']  ));  </pre>
      <p>To create a page that requires a user to be logged in, include the following code. Note that if the cookie is not set, the page will halt execution and redirect to the default PeoplePods login page.</p>
      <pre>require_once("peoplepods/PeoplePods.php");  $POD = new PeoplePod(array(   'authSecret'=&gt;$_COOKIE['pp_auth'],   'lockdown'=&gt;'login'  ));  </pre>
      <h1><a href="http://peoplepods.net/readme/pod-getfile" title="$POD->getFile()">$POD-&gt;getFile()</a></h1>
      <p>Returns one specific <a href="http://peoplepods.net/readme/file-object">File Object</a>. This function can be used to load existing content from the database, or create a new piece of content.</p>
      <h3>Loading Files</h3>
      <p>To load an existing file, pass in it's database id:</p>
      <pre>$file = $POD-&gt;getFile(array(    'id'=&gt;12  ));  </pre>
      <h3>Creating Files</h3>
      <p>To create files, use the <a href="http://peoplepods.net/readme/content-addfile">$content-&gt;addFile()</a> and <a href="http://peoplepods.net/readme/person-addfile">$person-&gt;addFile()</a> functions.</p>
      <h3>Errors</h3>
      <p>Be sure to check for errors! In some instances, the content object may not be created properly, and will throw an error.</p>
      <pre>if (!$file-&gt;success()) {    echo $file-&gt;error();  }  </pre>
      <h1><a href="http://peoplepods.net/readme/pod-getfiles" title="$POD->getFiles()">$POD-&gt;getFiles()</a></h1>
      <pre>$POD-&gt;getFiles($conditions,$sort,$count,$offset);  </pre>
      <p>Get a <a href="http://peoplepods.net/readme/stacks">stack</a> of <a href="http://peoplepods.net/readme/file-object">file objects</a> that match the parameters you pass in.</p>
      <h3>Parameters</h3>
      <em>$conditions</em> An associative array of <a href="http://peoplepods.net/readme/stack-parameters">stack parameters</a> that describe the files you want to load. See the stack parameters document for constructing these arrays. <em>$sort</em> A SQL style sort statement. Defaults to 'date DESC' <em>$count</em><br>
      Maximum number of pieces of content to return. Defaults to 100 <em>$offset</em><br>
      Offset results by this many files. (for use in paging)
      <h3>Examples</h3>
      <p>Get a simple list of the most recent files.</p>
      <pre>$most_recent = $POD-&gt;getFiles();  </pre>
      <p>Get a simple list of the most recent files by a specific person.</p>
      <pre>$most_recent = $POD-&gt;getFiles(array(    'userId'=&gt;$person-&gt;get('id')  ));  </pre>
      <p>Get a simple list of the most recent files on a piece of content:</p>
      <pre>$most_recent = $POD-&gt;getFiles(array(    'contentId'=&gt;$content-&gt;get('id')  ));  </pre>
      <p>The above example is essentially the same thing as using the <a href="http://peoplepods.net/readme/content-files">$content-&gt;files()</a> function.</p>
      <p>Get files from a group.</p>
      <pre>$group_files = $POD-&gt;getFiles(array(  	'd.groupId'=&gt;$group-&gt;get('id')  ));  </pre>
      <p>Be sure to check out the <a href="http://peoplepods.net/readme/stacks">stack documentation</a> for all the functionality the resulting stack will have!</p>
      <h1><a href="http://peoplepods.net/readme/pod-templatedir" title="$POD->templateDir()">$POD-&gt;templateDir()</a></h1>
      <pre>$POD-&gt;templateDir();  </pre>
      <p>Prints out the root URL of the current theme, as set in the PeoplePods admin tool. Passing a false in will cause the function to return the URL instead of echoing it out.</p>
      <pre>$templateDir = $POD-&gt;templateDir(false);  </pre>
      <p>This is mostly useful for creating relative links to images or stylesheets included with the theme.</p>
      <pre>  </pre>
      <h1><a href="http://peoplepods.net/readme/pod-currenttheme" title="$POD->currentTheme()">$POD-&gt;currentTheme()</a></h1>
      <pre>$theme = $POD-&gt;currentTheme();  </pre>
      <p>Returns the name of the current theme.</p>
      <h1><a href="http://peoplepods.net/readme/pod-podroot" title="$POD->podRoot()">$POD-&gt;podRoot()</a></h1>
      <pre>$POD-&gt;podRoot($display=true);  </pre>
      <p>Prints out the URL to the PeoplePods installatio, as set in the PeoplePods admin tool. Passing a false in will cause the function to return the URl instead of echoing it.</p>
      <p>This function is mostly used internally by the admin tools.</p>
      <pre>$podRoot = $POD-&gt;podRoot(false);  </pre>
      <h1><a href="http://peoplepods.net/readme/pod-siteroot" title="$POD->siteRoot()">$POD-&gt;siteRoot()</a></h1>
      <pre>$POD-&gt;siteRoot($display=true);  </pre>
      <p>Prints out the root URL of the site, as set in the PeoplePods admin tool. Passing a false in will cause the function to return the URL instead of echoing it out.</p>
      <pre>$siteRoot = $POD-&gt;siteRoot(false);  </pre>
      <h1><a href="http://peoplepods.net/readme/pod-sitename" title="$POD->siteName()">$POD-&gt;siteName()</a></h1>
      <pre>$POD-&gt;siteName($display=true);  </pre>
      <p>Prints out the name of the site, as set in the PeoplePods admin tool. Passing a false in will cause the function to return the name instead of echoing it out.</p>
      <pre>$siteName = $POD-&gt;siteName(false);  </pre>
      <h1><a href="http://peoplepods.net/readme/pod-output" title="$POD->output()">$POD-&gt;output()</a></h1>
      <pre>$POD-&gt;output($template);  </pre>
      <p>Outputs a template from the current theme. This is mostly used for creating reusable sidebars or modules.</p>
      <p>For example, if you placed a file called <em>ad_unit.php</em> in the <em>sidebars/</em> folder of your theme, you could then include it into your other templates with the following code:</p>
      <pre>$POD-&gt;output('sidebars/ad_unit');  </pre>
      <p>Code inside of the <em>ad_unit</em> template will have access to the current PeoplePods environment, which means they can include content, people or any other kind of PeoplePods functionality.</p>
      <h1><a href="http://peoplepods.net/readme/pod-footer" title="$POD->footer()">$POD-&gt;footer()</a></h1>
      Prints the footer template of the current theme.
      <h1><a href="http://peoplepods.net/readme/pod-header" title="$POD->header()">$POD-&gt;header()</a></h1>
      <pre>$POD-&gt;header($page_title,$rss_link);  </pre>
      <p>Prints the header template of the current theme.</p>
      <h1><a href="http://peoplepods.net/readme/pod-getcomments" title="$POD->getComments()">$POD-&gt;getComments()</a></h1>
      <pre>$POD-&gt;getComments($conditions,$sort,$count,$offset);  </pre>
      <p>Get a <a href="http://peoplepods.net/readme/stacks">stack</a> of <a href="http://peoplepods.net/readme/comment-object">comment objects</a> that match the parameters you pass in.</p>
      <h3>Parameters</h3>
      <table border="1" bordercolor="#000000" cellpadding="3" cellspacing="0">
        <tbody>
          <tr>
            <td valign="top"><em>$conditions</em></td>
            <td>An associative array of <a href="http://peoplepods.net/readme/stack-parameters">stack parameters</a> that describe the comments you want to load. See the stack parameters document for constructing these arrays.</td>
          </tr>
          <tr>
            <td valign="top"><em>$sort</em></td>
            <td>A SQL style sort statement. Defaults to 'date DESC'</td>
          </tr>
          <tr>
            <td valign="top"><em>$count</em><br></td>
            <td>Maximum number of pieces of content to return. Defaults to 100</td>
          </tr>
          <tr>
            <td valign="top"><em>$offset</em><br></td>
            <td>Offset results by this many comments. (for use in paging)</td>
          </tr>
        </tbody>
      </table>
      <h3>Examples</h3>
      <p>Get a simple list of the most recent comments.</p>
      <pre>$most_recent = $POD-&gt;getComments();  </pre>
      <p>Get a simple list of the most recent comments by a specific person.</p>
      <pre>$most_recent = $POD-&gt;getComments(array(    'userId'=&gt;$person-&gt;get('id')  ));  </pre>
      <p>Get a simple list of the most recent comments on a piece of content:</p>
      <pre>$most_recent = $POD-&gt;getComments(array(    'contentId'=&gt;$content-&gt;get('id')  ));  </pre>
      <p>The above example is essentially the same thing as using the <a href="http://peoplepods.net/readme/content-comments">$content-&gt;comments()</a> function.</p>
      <p>Get a list of comments from all users with a meta field called 'frontpage' set to '1':</p>
      <pre>$front_comments = $POD-&gt;getComments(array(  	'u.frontpage'=&gt;'1'  ));  </pre>
      <p>Get comments from featured posts.</p>
      <pre>$featured_comments = $POD-&gt;getComments(array(  	'd.status'=&gt;'featured'  ));  </pre>
      <p>Be sure to check out the <a href="http://peoplepods.net/readme/">stack documentation</a> for all the functionality the resulting stack will have!</p>
      <h1><a href="http://peoplepods.net/readme/pod-getcomment" title="$POD->getComment()">$POD-&gt;getComment()</a></h1>
      <p>Returns one specific <a href="http://peoplepods.net/readme/comment-object">Comment Object</a>. This function can be used to load an existing comment from the database, or create a new comment.</p>
      <h3>Loading a Comment</h3>
      <p>To load an existing piece comment, pass in the comment's database id</p>
      <pre>$id = 5;  $comment = $POD-&gt;getComment(array(    'id'=&gt;$id  ));  </pre>
      <h3>Creating a Comment</h3>
      <p>To create comment, you can either load an empty content object and set values for its fields, or pass in default values to the constructor.</p>
      <p>HOWEVER, the much more useful way of doing this is to use the <a href="http://peoplepods.net/readme/content-addcomment">$content-&gt;addComment()</a> function, which handles almost everything automagically.</p>
      <p>Create a brand new, empty comment object:</p>
      <pre>$new_comment = $POD-&gt;getComment();  $new_comment-&gt;set('comment','This comment sucks!');  $new_content-&gt;set('userId',$POD-&gt;currentUser()-&gt;get('id'));  $new_comment-&gt;set('contentId',$content-&gt;get('id'));  $new_comment-&gt;save();  </pre>
      <p>Or, pass in values:</p>
      <pre>$new_comment = $POD-&gt;getComment(array(    'comment' =&gt; 'This is the default headline',    'userId'=&gt;$POD-&gt;currentUser()-&gt;get('id'),    'contentId'=&gt;$content-&gt;get('id')  ));  $new_comment-&gt;save();  </pre>
      <h3>Errors</h3>
      <p>Be sure to check for errors! In some instances, the comment object may not be created properly, and will throw an error.</p>
      <pre>if (!$new_comment-&gt;success()) {    echo $new_comment-&gt;error();  }  </pre>
      <h1><a href="http://peoplepods.net/readme/pod-getgroups" title="$POD->getGroups()">$POD-&gt;getGroups()</a></h1>
      <pre>$POD-&gt;getGroups($conditions,$sort,$count,$offset);  </pre>
      <p>Get a <a href="http://peoplepods.net/readme/stacks">stack</a> of <a href="http://peoplepods.net/readme/group-object">group objects</a> that match the parameters you pass in.</p>
      <h3>Parameters</h3>
      <table border="1" bordercolor="#000000" cellpadding="3" cellspacing="0">
        <tbody>
          <tr>
            <td valign="top"><em>$conditions</em></td>
            <td>An associative array of <a href="http://peoplepods.net/readme/stack-parameters">stack parameters</a> that describe the content you want to load. See the stack parameters document for constructing these arrays.</td>
          </tr>
          <tr>
            <td valign="top"><em>$sort</em></td>
            <td>A SQL style sort statement. Defaults to 'date DESC'</td>
          </tr>
          <tr>
            <td valign="top"><em>$count</em><br></td>
            <td>Maximum number of pieces of content to return. Defaults to 20</td>
          </tr>
          <tr>
            <td valign="top"><em>$offset</em><br></td>
            <td>Offset results by this many groups. (for use in paging)</td>
          </tr>
        </tbody>
      </table>
      <h3>Examples</h3>
      <p>Get a simple list of the most recent groups of any type.</p>
      <pre>$groups = $POD-&gt;getGroups();  </pre>
      <p>The getGroups function can automatically link in information about group membership, so you can do things like get all the groups a user is a member of:</p>
      <pre>$person = $POD-&gt;currentUser();  $my_groups = $POD-&gt;getGroups(array(    'mem.userId'=&gt;$person-&gt;get('id')  ));  </pre>
      <p>Or, get all the groups a person has been invited to, but has not yet joined:</p>
      <pre>$person = $POD-&gt;currentUser();  $my_groups = $POD-&gt;getGroups(array(    'mem.userId'=&gt;$person-&gt;get('id'),    'mem.type'=&gt;'invitee'  // you might also use 'member' 'manager' or 'owner'  ));  </pre>
      <p>You can also query groups by flags and meta fields, in the same manner that you would content or people.</p>
      <p>Be sure to check out the <a href="http://peoplepods.net/readme/">stack documentation</a> for all the functionality the resulting stack will have!</p>
      <h1><a href="http://peoplepods.net/readme/pod-getgroup" title="$POD->getGroup()">$POD-&gt;getGroup()</a></h1>
      <p>Returns one specific <a href="http://peoplepods.net/readme/group-object">Group Object</a>. This function can be used to load an existing group from the database, or create a new group.</p>
      <h3>Loading a Group</h3>
      <p>To load an existing piece group, pass in ONE of the following parameters:</p>
      <ul>
        <li>id - db id of the group</li>
        <li>stub - unique stub of the group</li>
      </ul>
      <p>The vast majority of the time, you will load specific groups by their stubs. For example, the following code will load the group with the stub name 'awesomeville'</p>
      <pre>$content = $POD-&gt;getGroup(array(    'stub'=&gt;'awesomeville'  ));  </pre>
      <h3>Creating Groups</h3>
      <p>To create a group, you can either load an empty group object and set values for its fields, or pass in default values to the constructor. Surprising, I know.</p>
      <p>Create a brand new, empty group object:</p>
      <pre>$new_group = $POD-&gt;getGroup();  $new_group-&gt;set('groupname','Music Learning Club Austin');  $new_group-&gt;set('description','A club where Austin people learn music.');  $new_group-&gt;save();  </pre>
      <p>Or, pass in values:</p>
      <pre>$new_group = $POD-&gt;getGroup(array(    'group_name' =&gt; 'Ebola Research Group',    'description' =&gt; 'Blood Everywhere!!!!!'  ));  $new_group-&gt;save();  </pre>
      <h3>Errors</h3>
      <p>Be sure to check for errors! In some instances, the content object may not be created properly, and will throw an error.</p>
      <pre>if (!$new_group-&gt;success()) {    echo $new_content-&gt;error();  }  </pre>
      <h1><a href="http://peoplepods.net/readme/pod-getcontents" title="$POD->getContents()">$POD-&gt;getContents()</a></h1>
      <pre>$POD-&gt;getContents($conditions,$sort,$count,$offset);  </pre>
      <p>Get a <a href="http://peoplepods.net/readme/stacks">stack</a> of <a href="http://peoplepods.net/readme/content-object">content objects</a> that match the parameters you pass in.</p>
      <h3>Parameters</h3>
      <table border="1" bordercolor="#000000" cellpadding="3" cellspacing="0">
        <tbody>
          <tr>
            <td valign="top"><em>$conditions</em></td>
            <td>An associative array of <a href="http://peoplepods.net/readme/stack-parameters">stack parameters</a> that describe the content you want to load. See the stack parameters document for constructing these arrays.</td>
          </tr>
          <tr>
            <td valign="top"><em>$sort</em></td>
            <td>A SQL style sort statement. Defaults to 'date DESC'</td>
          </tr>
          <tr>
            <td valign="top"><em>$count</em><br></td>
            <td>Maximum number of pieces of content to return. Defaults to 20</td>
          </tr>
          <tr>
            <td valign="top"><em>$offset</em><br></td>
            <td>Offset results by this many people. (for use in paging)</td>
          </tr>
        </tbody>
      </table>
      <h3>Examples</h3>
      <p>Get a simple list of the most recent content of any type.</p>
      <pre>$most_recent = $POD-&gt;getContents();  </pre>
      <p>Get a simple list of the most recent content of a specific type.</p>
      <pre>$most_recent_posts = $POD-&gt;getContents(array(    'type'=&gt;'post'  ));  </pre>
      <p>Get a list of content that have a certain specific <a href="http://peoplepods.net/readme/meta-fields">meta field</a>:</p>
      <pre>$content = $POD-&gt;getContents(array(    'm.name'=&gt;'special'  ));  </pre>
      <p>Get a list of content who have a specific value for a specific meta field:</p>
      <pre>$people = $POD-&gt;getContents(array(    'm.name'=&gt;'special',    'm.value'=&gt;'featured'  ));  </pre>
      <p>Get a list of content with a specific flag - this example will return any content flagged by any other user with the "warn" flag:</p>
      <pre>$content = $POD-&gt;getContents(array(    'flag.name'=&gt; 'warn',  ));  </pre>
      <p>Get a list of content with a specific flag/value set - this example will return any content flagged by any other user with the rating flag set to 5:</p>
      <pre>$content = $POD-&gt;getContents(array(    'flag.name'=&gt; 'rating',    'flag.value'=&gt; '5'  ));  </pre>
      <p>Get a list of content with a specific flag set by a specific user. This is how you would pull a list of a person's favorites:</p>
      <pre>$person = $POD-&gt;currentUser();  $favorites = $POD-&gt;getContents(array(    'flag.name'=&gt;'favorite',    'flag.userId'=&gt;$person-&gt;get('id');  ));  </pre>
      <p>Get a list of content created by a specific user:</p>
      <pre>$person = $POD-&gt;currentUser();  $posts = $POD-&gt;getContents(array(    'userId' =&gt; $person-&gt;get('id')  ));  </pre>
      <p>Get a list of content created by anyone in a list of people - for example, a person's friends:</p>
      <pre>$person = $POD-&gt;currentUser();  $posts = $POD-&gt;getContents(array(    'userId' =&gt; $person-&gt;friends()-&gt;extract('id')  ));  </pre>
      <p>Get a list of content a person is watching, and sort it by most recent comment activity - this would essentially createa a "new comments" list:</p>
      <pre>$person = $POD-&gt;currentUser();  $posts = $POD-&gt;getContents(array(    'flag.name'=&gt;'watch',    'flag.userId'=&gt;$person-&gt;get('id')  ),'commentDate DESC');  </pre>
      <p>Be sure to check out the <a href="http://peoplepods.net/readme/">stack documentation</a> for all the functionality the resulting stack will have!</p>
      <h1><a href="http://peoplepods.net/readme/pod-getcontent" title="$POD->getContent()">$POD-&gt;getContent()</a></h1>
      <p>Returns one specific <a href="http://peoplepods.net/readme/content-object">Content Object</a>. This function can be used to load existing content from the database, or create a new piece of content.</p>
      <h3>Loading Content</h3>
      <p>To load an existing piece of content, pass in ONE of the following parameters:</p>
      <ul>
        <li>id - db id of the content</li>
        <li>stub - unique stub of the content</li>
      </ul>
      <p>The vast majority of the time, you will load specific pieces of content by their stubs. For example, the following code will load the content with the stub name 'about'</p>
      <pre>$content = $POD-&gt;getContent(array(    'stub'=&gt;'about'  ));  </pre>
      <h3>Creating Content</h3>
      <p>To create content, you can either load an empty content object and set values for its fields, or pass in default values to the constructor.</p>
      <p>Create a brand new, empty content object:</p>
      <pre>$new_content = $POD-&gt;getContent();  $new_content-&gt;set('headline','This is a new piece of content!');  $new_content-&gt;set('type','post');  $new_content-&gt;save();  </pre>
      <p>Or, pass in values:</p>
      <pre>$new_content = $POD-&gt;getContent(array(    'headline' =&gt; 'This is the default headline',    'type' =&gt; 'post'  ));  $new_content-&gt;save();  </pre>
      <h3>Errors</h3>
      <p>Be sure to check for errors! In some instances, the content object may not be created properly, and will throw an error.</p>
      <pre>if (!$new_content-&gt;success()) {    echo $new_content-&gt;error();  }  </pre>
      <h1><a href="http://peoplepods.net/readme/pod-changeactor" title="$POD->changeActor()">$POD-&gt;changeActor()</a></h1>
      <pre>$newCurrent = $POD-&gt;changeActor($params)</pre>
      <p>Takes the same parameters as <a href="http://peoplepods.net/readme/pod-getperson">$POD-&gt;getPerson()</a>, except instead of just returning a person object, also sets the $POD's <a href="http://peoplepods.net/readme/pod-currentuser">currentUser</a> and <a href="http://peoplepods.net/readme/pod-isauthenticated">isAuthenticated</a> status.</p>
      <p>This can be used to switch primary users mid-execution, for example in the event that you create a new user who should then take over execution.</p>
      <p>Note: If the user fails to load, isAuthenticated will be false and currentUser will be null.</p>
      <h1><a href="http://peoplepods.net/readme/pod-getpeople" title="$POD->getPeople()">$POD-&gt;getPeople()</a></h1>
      <pre>$people = $POD-&gt;getPeople($conditions,$sort,$count,$offset);  </pre>
      <p>Get a <a href="http://peoplepods.net/readme/stacks">stack</a> of <a href="http://peoplepods.net/readme/person-object">person objects</a> that match the parameters you pass in.</p>
      <h3>Parameters</h3>
      <table border="1" bordercolor="#000000" cellpadding="3" cellspacing="0">
        <tbody>
          <tr>
            <td valign="top"><em>$conditions</em></td>
            <td>An associative array of <a href="http://peoplepods.net/readme/stack-parameters">stack parameters</a> that describe the people you want to load. See the stack parameters document for constructing these arrays.</td>
          </tr>
          <tr>
            <td valign="top"><em>$sort</em></td>
            <td>A SQL style sort statement. Defaults to 'lastVisit DESC'</td>
          </tr>
          <tr>
            <td valign="top"><em>$count</em><br></td>
            <td>Maximum number of people to return. Defaults to 20</td>
          </tr>
          <tr>
            <td valign="top"><em>$offset</em><br></td>
            <td>Offset results by this many people. (for use in paging)</td>
          </tr>
        </tbody>
      </table>
      <h3>Examples</h3>
      <p>Get a simple list of the people who have logged in most recently:</p>
      <pre>$most_recent = $POD-&gt;getPeople();  </pre>
      <p>Get a list of people who have a certain specific <a href="http://peoplepods.net/readme/meta-fields">meta field</a>:</p>
      <pre>$people = $POD-&gt;getPeople(array(    'm.name'=&gt;'special'  ));  </pre>
      <p>Get a list of people who have a specific value for a specific meta field:</p>
      <pre>$people = $POD-&gt;getPeople(array(    'm.name'=&gt;'special',    'm.value'=&gt;'featured'  ));  </pre>
      <p>Get a list of people with a specific flag - this example will return any person flagged by any other user with the "warn" flag:</p>
      <pre>$people = $POD-&gt;getPeople(array(    'flag.name'=&gt; 'warn',  ));  </pre>
      <p>Get a list of people with a specific flag/value set - this example will return any person flagged by any other user with the rating flag set to 5:</p>
      <pre>$people = $POD-&gt;getPeople(array(    'flag.name'=&gt; 'rating',    'flag.value'=&gt; '5'  ));  </pre>
      <p>Get a list of people with a specific flag set by a specific user. This is how you would pull a list of a person's friends:</p>
      <pre>$person = $POD-&gt;currentUser();  $friends = $POD-&gt;getPeople(array(    'flag.name'=&gt;'friend',    'flag.userId'=&gt;$person-&gt;get('id');  ));  </pre>
      <p>Get a list of people who flagged a user with a specific flag. This is how you would pull a list of a person's followers (people who have added the friend flag):</p>
      <pre>$person = $POD-&gt;currentUser();  $friends = $POD-&gt;getPeople(array(    'flag.name'=&gt;'friend',    'flag.itemId'=&gt;$person-&gt;get('id');  ));  </pre>
      <p>Get a list of people who flagged a specific piece of content with a specific flag. This is how you would pulla list of all the people who have favorited a specific piece of content:</p>
      <pre>$favorite_users = $POD-&gt;getPeople(array(    'flag.name'=&gt;'favorite',    'flag.itemId'=&gt;$content-&gt;get('id')  ));  </pre>
      <p>Be sure to check out the <a href="http://peoplepods.net/readme/">stack documentation</a> for all the functionality the resulting stack will have!</p>
      <h1><a href="http://peoplepods.net/readme/pod-getperson" title="$POD->getPerson()  ">$POD-&gt;getPerson()</a></h1>
      <p>Returns a <a href="http://peoplepods.net/readme/person-object">Person Object</a>. This function can be used to load an existing person from the database, or to create a new person object.</p>
      <h3>Loading A Person</h3>
      <p>To load an existing person, pass in ONE of the following parameters:</p>
      <ul>
        <li>id - user's db id</li>
        <li>nick - user's nick</li>
        <li>email - user's email</li>
        <li>authSecret - user's authentication secret</li>
        <li>passwordResetCode - user's password reset code (for use by the reset password script in the core_authentication Pod)</li>
      </ul>
      <p>For example, the following code will load user id 1:</p>
      <pre>$person = $POD-&gt;getPerson(array(    'id'=&gt;1   ));  </pre>
      <p>This will load the user who registered with the name 'Chester':</p>
      <pre>$person = $POD-&gt;getPerson(array(    'nick'=&gt;'chester'   ));  </pre>
      <h3>Creating a Person</h3>
      <p>You can create a new person object either by passing 0 parameters to this function, OR by passing a nick, email and password.</p>
      <p>Create a brand new, empty user:</p>
      <pre>$new_user = $POD-&gt;getPerson();  $new_user-&gt;set('nick','Chester');  $new_user-&gt;set('email','chester@xoxco.com');  $new_user-&gt;set('password','foobar');  $new_user-&gt;save();  </pre>
      <p>Create a new user by passing in all the deets:</p>
      <pre>$new_user = $POD-&gt;getPerson(array(    'nick'=&gt;'Chester',    'email'=&gt;'chester@xoxco.com',    'password'=&gt;'foobar'   );  $new_user-&gt;save();  </pre>
      <h3>Errors</h3>
      <p>Be sure to check for errors! In some instances, the person object may not be created properly, and will throw an error.</p>
      <pre>if (!$new_user-&gt;success()) {    echo $new_user-&gt;error();  }  </pre>
      <h1><a href="http://peoplepods.net/readme/pod-currentuser" title="$POD->currentUser()">$POD-&gt;currentUser()</a></h1>
      <p>Returns a <a href="http://peoplepods.net/readme/person-object">Person Object</a> if $POD is authenticated. Otherwise returns null.</p>
      <p>NOTE: Be sure to check $POD-&gt;isAuthenticated() or set the lockdown parameter on your $POD before using $POD-&gt;currentUser(). If there is no current user to access, an error will occur!</p>
      <h3>Examples:</h3>
      <p>Display the current user's name, or "Stranger" for someone not logged in.</p>
      <pre>if ($POD-&gt;isAuthenticated()) {      $POD-&gt;currentUser()-&gt;write('nick');  } else {      echo "Stranger";  }  </pre>
      <div></div>
    </div>
    <div id="footer">
      <div>
        <div>pixels crafted by <a href="http://xoxco.com/">Made by XOXCO</a></div>
        <div>
          <h3>News</h3>
          <ul>
            <div>
              <li><a href="http://peoplepods.net/news/version-09-is-here" title="Version 0.9 is here!">Version 0.9 is here!</a></li>
              <li><a href="http://peoplepods.net/news/ben-brown-on-how-running-a-community-is-like-throwing-a-giant-never-ending-party" title="Ben Brown on how running a community is like throwing a giant, never-ending party">Ben Brown on how running a community is like throwing a giant, never-ending party</a></li>
              <li><a href="http://peoplepods.net/news/svn-commits-now-live-in-the-sidebar" title="SVN commits now live in the sidebar!">SVN commits now live in the sidebar!</a></li>
              <li><a href="http://peoplepods.net/news/officehours-oct12" title="Get free help with PeoplePods on Tuesday, Oct 12">Get free help with PeoplePods on Tuesday, Oct 12</a></li>
            </div>
          </ul>
        </div>
        <div>
          <h3>Documentation</h3>
          <ul>
            <li><a href="http://peoplepods.net/readme/what-is-peoplepods">What is Peoplepods?</a></li>
            <li><a href="http://peoplepods.net/readme/sdk">PeoplePods SDK</a></li>
            <li><a href="http://peoplepods.net/readme/object-definitions">Object Definitions</a></li>
            <li><a href="http://peoplepods.net/readme/themes">PeoplePods Themes</a></li>
          </ul>
        </div>
        <div>
          <h3>About</h3>
          <p><a href="http://twitter.com/peoplepods">Follow PeoplePods on Twitter</a></p>
          <p><a href="http://twitter.com/xoxco">Follow XOXCO on Twitter</a></p>
          <p>XOXCO is a clickable research and development company. We can help you build awesome things.</p>
          <p>Copyright 2009-2012 <a href="http://xoxco.com/">XOXCO, Inc</a>        </p>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>
